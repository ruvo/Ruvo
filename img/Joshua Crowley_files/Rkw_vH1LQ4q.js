if (self.CavalryLogger) { CavalryLogger.start_js(["6WlXb"]); }

__d('ShowMeHowTour.react',['ix','cx','fbt','Arbiter','CacheStorage','Grid.react','Image.react','React','ShowMeHowStep','XUIContextualDialog.react','XUIContextualDialogBody.react','XUIContextualDialogFooter.react','XUIText.react','$','fbglyph'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=c('Grid.react').GridItem,l=c('React').PropTypes,m=c('React').createClass({displayName:'ShowMeHowTour',propTypes:{steps:l.arrayOf(c('ShowMeHowStep')).isRequired,title:l.string,tourName:l.string.isRequired,width:l.number},getInitialState:function(){return {dialogShown:true,step:0};},getDefaultProps:function(){return {width:600};},componentDidMount:function(){c('Arbiter').subscribe('ShowMeHowTrigger',function(n,o){return (this.setState({step:o.step}));}.bind(this),c('Arbiter').SUBSCRIBE_ALL);},_makeContextID:function(){return 'show_me_how_'+this.props.tourName+'_'+this.state.step;},_getCurrentStep:function(){return this.props.steps[this.state.step];},_getContextNode:function(){return c('$')(this._makeContextID());},_getContextPosition:function(){return this._getCurrentStep().position;},_getContextAlignment:function(){return this._getCurrentStep().alignment;},_getDialogOffsetX:function(){var n=this._getCurrentStep().dialogOffsetX;if(!n)return 0;return n;},_getDialogOffsetY:function(){var n=this._getCurrentStep().dialogOffsetY;if(!n)return 0;return n;},_renderCurrentStep:function(){return this._getCurrentStep().renderFunction();},render:function(){if(!this.state.dialogShown)return null;return (c('React').createElement(c('XUIContextualDialog.react'),{alignment:this._getContextAlignment(),context:this._getContextNode(),offsetX:this._getDialogOffsetX(),offsetY:this._getDialogOffsetY(),position:this._getContextPosition(),shown:true},c('React').createElement(c('XUIContextualDialogBody.react'),null,c('React').createElement(c('Grid.react'),{cols:3},c('React').createElement(k,null,c('React').createElement(c('Image.react'),{className:"_3-90",src:'/images/help/icons/glyph_question.png'})),c('React').createElement(k,{className:"_20qg"},this.props.title),c('React').createElement(k,null,c('React').createElement(c('Image.react'),{className:"_3-9a",onClick:this.hide,src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/cross_12_fig-dark-50.png")})))),c('React').createElement(c('XUIContextualDialogFooter.react'),null,c('React').createElement('div',{className:"_20qh"},c('React').createElement(c('XUIText.react'),{weight:'bold'},j._({"*":"Step {curent step}"},[j.param('curent step',this.state.step+1,[0])])),c('React').createElement('div',{className:"_3-8y"},this._renderCurrentStep())))));},hide:function(){this.setState({dialogShown:false});new (c('CacheStorage'))('localstorage','show_me_how_').clear();},componentDidUpdate:function(){window.setTimeout(function(){this.refs.dialog&&this.refs.dialog.layer.updatePosition();}.bind(this),5);}});f.exports=m;},null);