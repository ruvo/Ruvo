if (self.CavalryLogger) { CavalryLogger.start_js(["+3M91"]); }

__d("FundraiserCampaignType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={UNSPECIFIED:0,FACEBOOK_TO_USER:1,DONATE_BUTTON_ON_PAGE:2,DONATE_BUTTON_ON_ADS:3,CHARITY_TO_USER:4,DONATE_BUTTON_ON_POST:5,USER_TO_CHARITY:6,DONATE_BUTTON_ON_LIVE_VIDEO:7};},null);
__d("PagesFollowType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SEE_FIRST:"see_first",FOLLOW:"follow",UNFOLLOW:"unfollow"};},null);
__d("PagesLikeFollowNotifActions",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={INIT_DATA:"init_data",LIKE:"like",UNLIKE:"unlike",FOLLOW_CHANGED:"follow_changed",NOTIF_CHANGE:"notif_change",NOTIF_ALL_ON:"notif_all_on",NOTIF_ALL_OFF:"notif_all_off"};},null);
__d("SocialGoodCharityActionsLoggerEvents",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={INITIALIZATION_BEGIN:"initialization_begin",INITIALIZATION:"initialization",PREPARE_PAYMENT_METHOD:"prepare_payment_method",VIEW_PUX_DONATE_FORM:"view_pux_donate_form",VIEW_NUX_DONATE_FORM:"view_nux_donate_form",PUX_METHOD:"pux_method",NUX_METHOD:"nux_method",FRAUD_CHECK_BEGIN:"fraud_check_begin",FRAUD_CHECK:"fraud_check",CHARGE_CREDENTIAL:"charge_credential",COMPLETE_DONATE:"complete_donate",DELETE_DONATION:"delete_donation",FUNDRAISER_PAGE_SHARE_IMPRESSION:"fundraiser_page_share_impression",CREATE_PROMO_FUNDRAISER_BEGIN:"create_promo_fundraiser_begin",CREATE_FUNDRAISER_BEGIN:"create_fundraiser_begin",CREATE_FUNDRAISER_UNPUBLISHED:"create_fundraiser_unpublished",CREATE_FUNDRAISER_PUBLISHED:"create_fundraiser_published",EDIT_FUNDRAISER_BEGIN:"edit_fundraiser_begin",EDIT_FUNDRAISER_COMPLETE:"edit_fundraiser_complete",INTERACT_WITH_MISSION_CARD:"interact_with_mission_card",TOGGLE_NOTIFICATIONS_ON_FUNDRAISER:"toggle_notifications_on_fundraiser",REMOVE_SELF_FROM_INVITE_LIST:"remove_self_from_invite_list",DIALOG_CANCEL:"dialog_cancel",DIALOG_CONFIRM:"dialog_confirm",DIALOG_VALIDATION_ERROR:"dialog_validation_error",CHANGE_TITLE:"change_title",CHANGE_DESCRIPTION:"change_description",CHANGE_END_DATE:"change_end_date",CHANGE_GOAL_AMOUNT:"change_goal_amount",CHANGE_CURRENCY:"change_currency",CHANGE_COVER_PHOTO:"change_cover_photo",UPLOAD_COVER_PHOTO_SUCCESS:"upload_cover_photo_success",UPLOAD_COVER_PHOTO_FAIL:"upload_cover_photo_fail",CHANGE_CHARITY:"change_charity",CLICK_BROWSE_CHARITIES:"click_browse_charities",SEARCH_CHARITIES:"search_charities",DELETE_BEGIN:"delete_bgein",DELETE_COMPLETE:"delete_complete",INVITE_DIALOG_INITIAL_LOAD:"invite_dialog_inital_load",INVITE_DIALOG_BOOTSTRAP_ENTRIES:"invite_dialog_bootstrap_entries",INVITE_DIALOG_BOOTSTRAP_FILTER_GROUPS:"invite_dialog_bootstrap_filter_groups",INVITE_DIALOG_UPDATE_QUERY:"invite_dialog_update_query",INVITE_DIALOG_SELECT_ENTRY:"invite_dialog_select_entry",INVITE_DIALOG_DESELECT_ENTRY:"invite_dialog_deselect_entry",INVITE_DIALOG_SELECT_ALL_ENTRIES:"invite_dialog_select_all_entries",INVITE_DIALOG_DESELECT_ALL_ENTRIES:"invite_dialog_deselect_all_entries",INVITE_DIALOG_EXPAND_GROUP:"invite_dialog_expand_group",INVITE_DIALOG_COLLAPSE_GROUP:"invite_dialog_collaps_group",INVITE_DIALOG_SET_ACTIVE_FILTER:"invite_dialog_set_active_filter",INVITE_USER_DIALOG_OPEN:"invite_user_dialog_open",INVITE_USER_FRIEND_INVITER_SEND:"invite_user_friend_inviter_send",INVITE_USER_COMPLETE:"invite_user_complete",INVITE_EMAIL_DIALOG_OPEN:"invite_email_dialog_open",INVITE_EMAIL_COMPLETE:"invite_email_complete",CREATE_FUNDRAISER_COMPLETE_DEPRECATED:"create_fundraiser_complete",CHANGE_DONATION_AMOUNT:"change_donation_amount",CHOOSE_PAYMENT_METHOD:"choose_payment_method",CLICK_ADD_PAYMENT_METHOD:"click_add_payment_method",ADD_PAYMENT_METHOD:"add_payment_method",REDIRECT_TO_PAYPAL:"redirect_to_paypal",WRITE_DONATION_STORY:"write_donation_story",VIEW_FUNDRAISER_SUPPORTERS:"view_fundraiser_supporters",DONATE_CLICK:"donate_click",DONATE_CANCEL:"donate_cancel",LEARN_MORE_CLICK:"learn_more_click",INVITE_CLICK:"invite_click",INVITE_COMPLETE:"invite_complete",SHARE_CLICK:"share_click",SHARE_CLICK_CANCEL:"share_click_cancel",SHARE_COMPLETE:"share_complete",SHARE_FAIL:"share_fail",JOIN_CLICK:"join_click",JOIN_COMPLETE:"join_complete",LEAVE_CLICK:"leave_click",LEAVE_CONFIRM:"leave_confirm",LEAVE_CANCEL:"leave_cancel",LEAVE_COMPLETE:"leave_complete",UNFOLLOW_CLICK:"unfollow_click",UNFOLLOW_COMPLETE:"unfollow_complete",FOLLOW_CLICK:"follow_click",FOLLOW_COMPLETE:"follow_complete",UNSAVE_COMPLETE:"unsave_complete",SAVE_COMPLETE:"save_complete",VIEW_FUNDRAISER:"view_fundraiser",VIEW_BOOKMARK_HUB:"view_bookmark_hub",VIEW_BOOKMARK_HUB_TAB:"view_bookmark_hub_tab",VIEW_BOOKMARK_FUNDRAISER_PAGINATION:"view_bookmark_fundraiser_pagination",VIEW_PAGE_FUNDRAISERS_TAB:"view_page_fundraisers_tab",INVITE_NULL_MISSION:"invite_null_mission",PERSONAL_UPDATE_NULL_MISSION:"personal_update_null_mission",SEE_SELF_DONATIONS:"see_self_donations",COMPOSE_CLICK:"compose_click",CREATE_POST:"create_post",CREATE_COMMENT:"create_comment",DELETE_POST:"delete_post",DELETE_COMMENT:"delete_comment",PAGE_VERIFICATION_INITIALIZED:"page_verification_initialized",PAGE_TERM_REVIEW_INITIALIZED:"page_term_review_initialized",PAYMENT_APPLICATION_INITIALIZED:"payment_application_initialized",ONBOARDING_PAGE_LOAD:"onboarding_page_load",TERMS_ACCEPT_PAGE_LOAD:"terms_accept_page_load",TERMS_ACCEPT:"terms_accept",ORGANIZATION_DETAILS:"organization_details",LEADERSHIP_INFO:"leadership_info",PAYMENT_INFO:"payment_info",ENTITY_CREATION:"entity_creation",MISSING_GRAPHQL_FIELDS:"fundraiser_page_missing_fields",GOTO_PAGE_SUBTITLE:"fundraiser_charity_page_subtitle",GOTO_PAGE_ACTIONBAR:"fundraiser_page_tapped_go_to_page",PERSONAL_UPDATE_BEGIN:"personal_update_begin",PERSONAL_UPDATE_SEND_MESSAGE:"personal_update_send_message",PERSONAL_UPDATE_SEND_EMAIL:"personal_update_send_email",PERSONAL_UPDATE_SEND_COUNT:"personal_update_send_count",XMA_BAD_DONATE_LINK:"fundraiser_xma_bad_donate_link",XMA_FALLBACK_VIEW:"fundraiser_xma_fallback_view",XMA_TAP_ATTACHMENT:"fundraiser_xma_tap_attachment",XMA_TAP_DONATE:"fundraiser_xma_tap_donate",XMA_VIEW:"fundraiser_xma_view",XMA_VIEW_DONATE_BUTTON:"fundraiser_xma_view_donate_button",SINGLE_CLICK_INVITE_SENT:"fundraiser_single_click_invite_sent",SINGLE_CLICK_INVITE_SENT_FAILURE:"fundraiser_single_click_invite_sent_failure",SINGLE_CLICK_INVITE_FETCH_DATA_FAILURE:"fundraiser_single_click_invite_fetch_data_failure",SINGLE_CLICK_INVITE_VIEW:"fundraiser_single_click_invite_view",POST_DONATION_BUTTON_TAP:"fundraiser_thank_you_button_tap",POST_DONATION_VIEW:"fundraiser_view_thank_you",CANCEL:"cancel",CONFIRM:"confirm",HIDE:"hide"};},null);
__d("SocialGoodCharityActionsLoggerParentEvents",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={DONATE:"donate",INTERACT:"interact",CREATE:"create",EDIT:"edit",DELETE:"delete",ONBOARDING:"onboarding",INVITE:"invite"};},null);
__d("SocialGoodCharityActionsSourceKeys",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SOURCE_NAME:"source_name",SOURCE_CATEGORY:"source_category",SOURCE_ID:"source_id",SESSION_ID:"session_id",PROMOTIONAL_SOURCE:"promotional_source"};},null);
__d('LegacyMentionsInput.react',['cx','FocusListener','Bootloader','TypeaheadMetricsConfig','Event','Keys','React','ReactDOM'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();c('FocusListener');var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return m=(n=j.constructor).call.apply(n,[this].concat(p)),this.hasEnteredText=function(){return !!(this.$ReactLegacyMentionsInput2&&this.$ReactLegacyMentionsInput2.getValue().trim());}.bind(this),this.submitComment=function(event){var r;if(event){r=event.target.value&&event.target.value.trim();}else{var s=c('ReactDOM').findDOMNode(this.refs.textarea);if(s.value&&s.value!==s.placeholder)r=s.value;}r=r||'';var t={visibleValue:r,encodedValue:r};if(this.$ReactLegacyMentionsInput2)t.encodedValue=this.$ReactLegacyMentionsInput2.getRawValue().trim();var u=this.props.onEnterSubmit(t,event);if(u&&this.$ReactLegacyMentionsInput2){this.$ReactLegacyMentionsInput2.reset();event&&event.preventDefault();}}.bind(this),this.$ReactLegacyMentionsInput3=function(event){var r=event.nativeEvent,s=c('Event').getKeyCode(r)==c('Keys').RETURN&&!c('Event').$E(r).getModifiers().any,t=this.$ReactLegacyMentionsInput2&&this.$ReactLegacyMentionsInput2.getTypeahead().getView().getSelection();if(this.props.onEnterSubmit&&s&&!t)this.submitComment(event);}.bind(this),this.$ReactLegacyMentionsInput4=function(){this.props.onFocus&&this.props.onFocus();this.$ReactLegacyMentionsInput1(c('ReactDOM').findDOMNode(this.refs.root));}.bind(this),this.$ReactLegacyMentionsInput5=function(){this.props.onBlur&&this.props.onBlur();}.bind(this),this.$ReactLegacyMentionsInput1=function(r){if(this.props.disableInitTextarea||this.$ReactLegacyMentionsInput2||this.$ReactLegacyMentionsInput6)return;this.$ReactLegacyMentionsInput6=true;c('Bootloader').loadModules(["CompactTypeaheadRenderer","ContextualTypeaheadView","InputSelection","MentionsInput","TextAreaControl","Typeahead","TypeaheadAreaCore","TypeaheadBestName","TypeaheadHoistFriends","TypeaheadMetrics","TypeaheadMetricsX","TypingDetector","UFIComments"],function(s,t,u,v,w,x,y,z,aa,ba,ca,da,ea){var fa=c('ReactDOM').findDOMNode(this.refs.textarea);new w(fa);if(this.props.onTypingStateChange){var ga=new da(fa);ga.init();ga.subscribe('change',this.props.onTypingStateChange);}var ha={autoSelect:true,renderer:s,causalElement:fa,autoflip:this.props.autoflip};if(this.props.viewOptionsTypeObjects)ha.typeObjects=this.props.viewOptionsTypeObjects;if(this.props.viewOptionsTypeObjectsOrder)ha.typeObjectsOrder=this.props.viewOptionsTypeObjectsOrder;var ia=new x(this.props.datasource,{ctor:t,options:ha},{ctor:y},c('ReactDOM').findDOMNode(this.refs.typeahead)),ja=[z,aa];if(c('TypeaheadMetricsConfig').gkResults){var ka=new ca({extraData:{event_name:'mention_metric_x'}});ka.init(ia);}var la=new ba({extraData:{event_name:'mentions',from_location:'comments'}});x.initNow(ia,ja,la);this.$ReactLegacyMentionsInput2=new v(r,ia,fa,{hashtags:this.props.hashtags});this.$ReactLegacyMentionsInput2.init({},this.props.initialData);if(this.props.initialData)u.set(fa,fa.value.length);if(this.props.onPaste)c('Event').listen(fa,'paste',this.props.onPaste);if(this.props.onContentChange)this.$ReactLegacyMentionsInput7=this.$ReactLegacyMentionsInput2.subscribe('valueUpdate',function(ma,na){var oa=na.value;this.props.onContentChange(oa);}.bind(this));this.$ReactLegacyMentionsInput6=false;}.bind(this),'LegacyMentionsInput.react');}.bind(this),this.focus=function(){try{c('ReactDOM').findDOMNode(this.refs.textarea).focus();}catch(r){}}.bind(this),m;}l.prototype.componentDidMount=function(){'use strict';this.props.initialData&&this.$ReactLegacyMentionsInput1(c('ReactDOM').findDOMNode(this));};l.prototype.componentWillUnmount=function(){'use strict';if(this.$ReactLegacyMentionsInput2&&this.$ReactLegacyMentionsInput7)this.$ReactLegacyMentionsInput2.unsubscribe(this.$ReactLegacyMentionsInput7);};l.prototype.render=function(){'use strict';var m="textInput"+(' '+"mentionsTextarea")+(' '+"uiTextareaAutogrow")+(' '+"uiTextareaNoResize")+(' '+"UFIAddCommentInput");return (c('React').createElement('div',{ref:'root',className:'uiMentionsInput textBoxContainer ReactLegacyMentionsInput'},c('React').createElement('div',{className:'highlighter'},c('React').createElement('div',null,c('React').createElement('span',{className:'highlighterContent hidden_elem'}))),c('React').createElement('div',{ref:'typeahead',className:'uiTypeahead mentionsTypeahead'},c('React').createElement('div',{className:'wrap'},c('React').createElement('input',{type:'hidden',autoComplete:'off',className:'hiddenInput'}),c('React').createElement('div',{className:'innerWrap'},c('React').createElement('textarea',{ref:'textarea',name:'add_comment_text',className:m,title:this.props.placeholder,placeholder:this.props.placeholder,onFocus:this.$ReactLegacyMentionsInput4,onBlur:this.$ReactLegacyMentionsInput5,onKeyDown:this.$ReactLegacyMentionsInput3})))),c('React').createElement('input',{type:'hidden',autoComplete:'off',className:'mentionsHidden',defaultValue:''})));};l.propTypes={initialData:k.object,disableInitTextarea:k.bool,placeholder:k.string,datasource:k.object,ref:k.string,viewOptionsTypeObjects:k.object,viewOptionsTypeObjectsOrder:k.array,hashtags:k.bool,autoflip:k.bool,onEnterSubmit:k.func,onFocus:k.func,onBlur:k.func,onContentChange:k.func,onTypingStateChange:k.func,onPaste:k.func};f.exports=l;},null);
__d('ConnectionsPYMLTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:ConnectionsPYMLLoggerConfig',this.$ConnectionsPYMLTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:ConnectionsPYMLLoggerConfig',this.$ConnectionsPYMLTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$ConnectionsPYMLTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$ConnectionsPYMLTypedLogger1=babelHelpers['extends']({},this.$ConnectionsPYMLTypedLogger1,j);return this;};h.prototype.setEvent=function(j){this.$ConnectionsPYMLTypedLogger1.event=j;return this;};h.prototype.setLikeSource=function(j){this.$ConnectionsPYMLTypedLogger1.like_source=j;return this;};h.prototype.setPageID=function(j){this.$ConnectionsPYMLTypedLogger1.page_id=j;return this;};h.prototype.updateExtraData=function(j){j=c('nullthrows')(c('GeneratedLoggerUtils').serializeMap(j));c('GeneratedLoggerUtils').checkExtraDataFieldNames(j,i);this.$ConnectionsPYMLTypedLogger1=babelHelpers['extends']({},this.$ConnectionsPYMLTypedLogger1,j);return this;};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l);};var i={event:true,like_source:true,page_id:true};f.exports=h;},null);
__d('SocialGoodCharityActionsTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:SocialGoodCharityActionsLoggerConfig',this.$SocialGoodCharityActionsTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:SocialGoodCharityActionsLoggerConfig',this.$SocialGoodCharityActionsTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$SocialGoodCharityActionsTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$SocialGoodCharityActionsTypedLogger1=babelHelpers['extends']({},this.$SocialGoodCharityActionsTypedLogger1,j);return this;};h.prototype.setAbTestNamesToGroups=function(j){this.$SocialGoodCharityActionsTypedLogger1.ab_test_names_to_groups=c('GeneratedLoggerUtils').serializeMap(j);return this;};h.prototype.setAttributes=function(j){this.$SocialGoodCharityActionsTypedLogger1.attributes=c('GeneratedLoggerUtils').serializeMap(j);return this;};h.prototype.setCampaignID=function(j){this.$SocialGoodCharityActionsTypedLogger1.campaign_id=j;return this;};h.prototype.setCampaignType=function(j){this.$SocialGoodCharityActionsTypedLogger1.campaign_type=j;return this;};h.prototype.setEvent=function(j){this.$SocialGoodCharityActionsTypedLogger1.event=j;return this;};h.prototype.setFundraiserID=function(j){this.$SocialGoodCharityActionsTypedLogger1.fundraiser_id=j;return this;};h.prototype.setHasPaymentMethodOnFile=function(j){this.$SocialGoodCharityActionsTypedLogger1.has_payment_method_on_file=j;return this;};h.prototype.setParentEventType=function(j){this.$SocialGoodCharityActionsTypedLogger1.parent_event_type=j;return this;};h.prototype.setSourceAttributes=function(j){this.$SocialGoodCharityActionsTypedLogger1.source_attributes=c('GeneratedLoggerUtils').serializeMap(j);return this;};h.prototype.setVC=function(j){this.$SocialGoodCharityActionsTypedLogger1.vc=j;return this;};h.prototype.updateExtraData=function(j){j=c('nullthrows')(c('GeneratedLoggerUtils').serializeMap(j));c('GeneratedLoggerUtils').checkExtraDataFieldNames(j,i);this.$SocialGoodCharityActionsTypedLogger1=babelHelpers['extends']({},this.$SocialGoodCharityActionsTypedLogger1,j);return this;};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l);};var i={ab_test_names_to_groups:true,attributes:true,campaign_id:true,campaign_type:true,event:true,fundraiser_id:true,has_payment_method_on_file:true,parent_event_type:true,source_attributes:true,vc:true};f.exports=h;},null);
__d('Tour',['Arbiter','LayerDestroyOnHide','LayerHideOnEscape','NavigationMessage','PageEvents'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(){'use strict';if(h._instance)h._instance.setTourComplete();h._instance=this;}h.prototype.init=function(){'use strict';this._pageLeaveToken=c('Arbiter').subscribe(c('PageEvents').AJAXPIPE_ONUNLOAD,this.handleLeavePage.bind(this));this._navigationBeginToken=c('Arbiter').subscribe(c('NavigationMessage').NAVIGATION_BEGIN,this.handleTransition.bind(this));this.steps={};return this;};h.prototype.registerStep=function(i,j){'use strict';i.disableBehavior(c('LayerDestroyOnHide'));i.disableBehavior(c('LayerHideOnEscape'));this.steps[j]=i;i.subscribe('show',function(){i.inform('tour-dialog-show',i);});if(!this.getTourStarted())this.setTourStart();};h.prototype._unsubscribeSubscriptions=function(){'use strict';this._navigationBeginToken.unsubscribe();this._pageLeaveToken.unsubscribe();};h.prototype.handleLeavePage=function(){'use strict';this._unsubscribeSubscriptions();};h.prototype.handleTransition=function(){'use strict';this._unsubscribeSubscriptions();};h.prototype.handleTourStart=function(){'use strict';};h.prototype.handleTourStop=function(){'use strict';};h.prototype.handleTourComplete=function(){'use strict';};h.prototype.showStep=function(i){'use strict';var j=this.steps[i];if(!(this.openDialog==j))this.hideOpenDialog();if(!j)return;this.openDialog=j;j.show();};h.prototype.hideOpenDialog=function(){'use strict';if(this.openDialog){this.openDialog.hide();this.openDialog=null;}};h.prototype.getTourStarted=function(){'use strict';return this.tourStarted;};h.prototype.setTourStart=function(){'use strict';this.tourStarted=true;this.handleTourStart();};h.prototype.setTourStop=function(){'use strict';this.tourStarted=false;this.hideOpenDialog();this.handleTourStop();};h.prototype.setTourComplete=function(){'use strict';if(this.tourComplete)return;this.setTourStop();this.tourComplete=true;this.handleTourComplete();};h.prototype.hideStep=function(i){'use strict';var j=this.steps[i];j&&j.hide();};h.getInstance=function(){'use strict';return h._instance||(h._instance=new h());};Object.assign(h.prototype,{tourStarted:false,tourComplete:false,_navigationBeginToken:null,_pageLeaveToken:null,steps:{},openDialog:null});f.exports=h;},null);
__d('PageFanning',['Animation','AsyncRequest','CSS','DOM','Parent','URI','ActorURI','$','collectDataAttributes','ConnectionsPYMLTypedLogger'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={setFanStatus:function(j,k,l,m,n,o,p){var q={ft:{}};if(j)q={ft:c('collectDataAttributes')(j,['ft']).ft};var r=new (c('URI'))(window.location.href).getQueryData();if(l)if(r.ref==='pyml_feed'){new (c('ConnectionsPYMLTypedLogger'))().setEvent('like_page').setLikeSource('profile').setPageID(parseInt(k,10)).log();}else if(r.ref==='pyml_permalink')new (c('ConnectionsPYMLTypedLogger'))().setEvent('like_page').setLikeSource('post_permalink').setPageID(parseInt(k,10)).log();n=n||function(v){var w=v.getPayload();if(!w||!j)return;if(w.reload){h.reloadOnFanStatusChanged();}else i(j,w);};var s={fbpage_id:k,add:l,reload:m};if(p!=null)Object.assign(s,p);Object.assign(s,q);var t='/ajax/pages/fan_status.php';if(p!=null&&p.actor_id!=null)t=c('ActorURI').create(t,p.actor_id);var u=new (c('AsyncRequest'))().setURI(t).setData(s).setNectarModuleDataSafe(j).setHandler(n);if(o)u.setErrorHandler(o);u.send();return false;},reloadOnFanStatusChanged:function(){var j=c('URI').getRequestURI();window.location.href=j;},toggleLikeOnFanStatusChanged:function(j,k){var l=c('$')('liked_pages_like_action_'+j),m=c('$')('liked_pages_undo_action_'+j);c('CSS').conditionClass(l,'hidden_elem',k);c('CSS').conditionClass(m,'hidden_elem',!k);}};function i(j,k){var l=k.feedback;if(!l)return;if(c('Parent').byClass(j,'fbTimelineEscapeSectionItem'))j=c('Parent').byClass(j,'fan_status_inactive')||j;var m=c('DOM').create('span',{className:'fan_status_inactive'},l);j.parentNode.replaceChild(m,j);var n=function(){if(k.can_repeat_action)m.parentNode.replaceChild(j,m);};new (c('Animation'))(m).duration(3000).checkpoint().to('backgroundColor','#FFFFFF').duration(1000).ondone(n).go();}f.exports=h;},null);
__d('PagesLikeFollowNotifDispatcher',['Arbiter','ExplicitRegistrationReactDispatcher','PageLikeConstants','PagesLikeFollowNotifActions','SubscriptionsHandler'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ExplicitRegistrationReactDispatcher'));i=h&&h.prototype;function j(k){i.constructor.call(this,k);var l=new (c('SubscriptionsHandler'))();l.addSubscriptions(c('Arbiter').subscribe(c('PageLikeConstants').LIKED,function(m,n){return this.dispatchLike(n.profile_id);}.bind(this)),c('Arbiter').subscribe(c('PageLikeConstants').UNLIKED,function(m,n){return this.dispatchUnlike(n.profile_id);}.bind(this)));}j.prototype.dispatchLike=function(k){this.dispatch({type:c('PagesLikeFollowNotifActions').LIKE,data:{pageID:k,likeStatus:true}});};j.prototype.dispatchUnlike=function(k){this.dispatch({type:c('PagesLikeFollowNotifActions').UNLIKE,data:{pageID:k,likeStatus:false}});};f.exports=new j({strict:true});},null);
__d('PagesFollowStore',['FluxReduceStore','PagesLikeFollowNotifActions','PagesLikeFollowNotifDispatcher'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('FluxReduceStore'));i=h&&h.prototype;j.prototype.getInitialState=function(){return {};};j.prototype.reduce=function(k,l){var m=babelHelpers['extends']({},k);switch(l.type){case c('PagesLikeFollowNotifActions').INIT_DATA:if(l.data.pageID in k)return k;m[l.data.pageID]=l.data.followStatus;return m;case c('PagesLikeFollowNotifActions').FOLLOW_CHANGED:m[l.data.pageID]=l.data.followStatus;return m;}return k;};function j(){h.apply(this,arguments);}f.exports=new j(c('PagesLikeFollowNotifDispatcher'));},null);
__d('SocialGoodCharityActionsLoggerUtils',['FundraiserCampaignType','SocialGoodCharityActionsLoggerEvents','SocialGoodCharityActionsLoggerParentEvents','SocialGoodCharityActionsSourceKeys','SocialGoodCharityActionsTypedLogger'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={logAction:function(event,i,j,k){new (c('SocialGoodCharityActionsTypedLogger'))().setEvent(event).setParentEventType(i).setCampaignID(j.campaign_id).setCampaignType(j.campaign_type).setAttributes(j.attributes).setSourceAttributes(j.source_attributes).setFundraiserID(j.fundraiser_id).log();},logOnboarding:function(event,i){new (c('SocialGoodCharityActionsTypedLogger'))().setEvent(event).setParentEventType(c('SocialGoodCharityActionsLoggerParentEvents').ONBOARDING).setAttributes(i).log();},logDonate:function(event){var i=arguments.length<=1||arguments[1]===undefined?null:arguments[1];new (c('SocialGoodCharityActionsTypedLogger'))().setEvent(event).setParentEventType(c('SocialGoodCharityActionsLoggerParentEvents').DONATE).setAttributes(i).log();},logU2CFundraiserInvite:function(event,i){var j=arguments.length<=2||arguments[2]===undefined?null:arguments[2];new (c('SocialGoodCharityActionsTypedLogger'))().setEvent(event).setParentEventType(c('SocialGoodCharityActionsLoggerParentEvents').INVITE).setSourceAttributes(i).setAttributes(j).log();},logU2CFundraiserCreation:function(event,i){var j=arguments.length<=2||arguments[2]===undefined?null:arguments[2];new (c('SocialGoodCharityActionsTypedLogger'))().setEvent(event).setParentEventType(c('SocialGoodCharityActionsLoggerParentEvents').CREATE).setSourceAttributes(i).setAttributes(j).setCampaignType(c('FundraiserCampaignType').USER_TO_CHARITY).log();},logU2CFundraiserEdit:function(event,i){var j=arguments.length<=2||arguments[2]===undefined?null:arguments[2];new (c('SocialGoodCharityActionsTypedLogger'))().setEvent(event).setParentEventType(c('SocialGoodCharityActionsLoggerParentEvents').EDIT).setSourceAttributes(i).setAttributes(j).setCampaignID(i[c('SocialGoodCharityActionsSourceKeys').SOURCE_ID]).setCampaignType(c('FundraiserCampaignType').USER_TO_CHARITY).log();},logJoinActionClick:function(i,j){var event=i?c('SocialGoodCharityActionsLoggerEvents').JOIN_CLICK:c('SocialGoodCharityActionsLoggerEvents').LEAVE_CLICK;this.logAction(event,c('SocialGoodCharityActionsLoggerParentEvents').INTERACT,j);},logFollowActionClick:function(i,j){var event=i?c('SocialGoodCharityActionsLoggerEvents').FOLLOW_CLICK:c('SocialGoodCharityActionsLoggerEvents').UNFOLLOW_CLICK;this.logAction(event,c('SocialGoodCharityActionsLoggerParentEvents').INTERACT,j);},logShareActionClick:function(i){this.logAction(c('SocialGoodCharityActionsLoggerEvents').SHARE_CLICK,c('SocialGoodCharityActionsLoggerParentEvents').INTERACT,i);},logXMAView:function(i){new (c('SocialGoodCharityActionsTypedLogger'))().setEvent(c('SocialGoodCharityActionsLoggerEvents').XMA_VIEW).setParentEventType(c('SocialGoodCharityActionsLoggerParentEvents').INTERACT).setFundraiserID(i).setCampaignID(i).setCampaignType(c('FundraiserCampaignType').USER_TO_CHARITY).log();},logXMATapDonate:function(i){new (c('SocialGoodCharityActionsTypedLogger'))().setEvent(c('SocialGoodCharityActionsLoggerEvents').XMA_TAP_DONATE).setParentEventType(c('SocialGoodCharityActionsLoggerParentEvents').INTERACT).setFundraiserID(i).setCampaignID(i).setCampaignType(c('FundraiserCampaignType').USER_TO_CHARITY).log();}};f.exports=h;},null);
__d("XPagesLikeCountController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/x\/updateLikeCountDomString\/",{page_id:{type:"Int",required:true},like_id:{type:"String",required:true}});},null);
__d('PageLikeButton',['Arbiter','AsyncRequest','AsyncResponse','DOM','EditSubscriptions','Event','FeedBlacklistButton','PageFanning','PageLikeConstants','PagesFollowStore','PagesFollowType','PagesLikeFollowNotifActions','PagesLikeFollowNotifDispatcher','SocialGoodCharityActionsLoggerUtils','Tour','XPagesLikeCountController'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={init:function(i,j,k,l,m,n,o,p,q,r,s,t){var u=this._getOption(t,'isLazy');this._subscribe(c('PageLikeConstants').LIKED,u,function(w,x){if(this._shouldUpdateButton(l,t,x)){i.swap();if(!q)k.suppressNextMouseEnter&&k.suppressNextMouseEnter();if(this._getOption(t,'is_fundraiser'))c('EditSubscriptions').toggleNotificationsOnJoin(l,true);}}.bind(this));this._subscribe(c('PageLikeConstants').UNLIKED,u,function(w,x){if(this._shouldUpdateButton(l,t,x)){i.unswap();k.hideFlyout&&k.hideFlyout();if(this._getOption(t,'is_fundraiser'))c('EditSubscriptions').toggleNotificationsOnJoin(l,false);}}.bind(this));if(s)this._subscribe(c('PageLikeConstants').SPM_CALLOUT,u,function(w,x){if(this._shouldUpdateButton(l,t,x)){s.show();c('Arbiter')._releaseAllEvents(c('PageLikeConstants').SPM_CALLOUT);}}.bind(this));var v=function(event){var w=i.getCurrentButton();this._likeButtonAction(l,m,n,o,w,event,t);}.bind(this);c('Event').listen(j,'click',v);if(u)c('Arbiter').subscribe(c('PageLikeConstants').LAZY_CLICK,function(w,x){var event=x.event,y=x.node;if(y!==j)return;v(event);});},_subscribe:function(event,i,j){var k=i?[event,event+'.lazy']:[event];c('Arbiter').subscribe(k,j);},initCallout:function(i,j){var k=document.getElementById('pageActionLikeCalloutButton');c('Event').listen(k,'click',this._likeButtonAction(i,j,null,null,null));},initUnlike:function(i,j,k,l){var m=this._getOption(l,'actor_id');c('Event').listen(i,'click',function(event){this.doUnlikeAction(event,j,k,m,l);}.bind(this));},initUnlikeAndHide:function(i,j,k,l){var m=this._getOption(l,'actor_id');c('Event').listen(i,'click',function(event){this.doUnlikeAction(event,j,k,m,l);c('DOM').remove(i);}.bind(this));},doUnlikeAction:function(event,i,j,k,l){this._saveLike(event.target,i,false,function(m){c('Arbiter').inform(c('PageLikeConstants').LIKED,{profile_id:i,actor_id:k});c('AsyncResponse').defaultErrorHandler(m);},j,null,null,l);this.informUnlike(i,k);},doLikeAction:function(i,j,k,l){var m={actor_id:l};this._saveLike(i,j,true,function(n){c('Arbiter').inform(c('PageLikeConstants').UNLIKED,{profile_id:j,actor_id:l});c('AsyncResponse').defaultErrorHandler(n);},k,null,null,m);h.informLike(j,i,k,m);},informLike:function(i,j,k,l){var m=this._getOption(l,'actor_id'),n={profile_id:i,actor_id:m,target:j,origin:k};c('Arbiter').inform(c('PageLikeConstants').LIKED,n);n.connected=true;var o=c('PagesFollowStore').getState();if(!(i in o)||!o[i]||o[i]!==c('PagesFollowType').SEE_FIRST)c('PagesLikeFollowNotifDispatcher').dispatch({type:c('PagesLikeFollowNotifActions').FOLLOW_CHANGED,data:{pageID:n.profile_id,followStatus:c('PagesFollowType').FOLLOW}});c('Arbiter').inform(c('FeedBlacklistButton').UNBLACKLIST,n);},informLikeSuccess:function(i){var j={profile_id:i};c('Arbiter').inform(c('PageLikeConstants').LIKED_SUCCESS,j);c('Arbiter').inform(c('PageLikeConstants').SPM_CALLOUT,j);},informUnlike:function(i,j){var k={profile_id:i,actor_id:j};setTimeout(c('Arbiter').inform.bind(c('Arbiter'),c('PageLikeConstants').UNLIKED,k),0);k.connected=false;setTimeout(function(){return c('PagesLikeFollowNotifDispatcher').dispatch({type:c('PagesLikeFollowNotifActions').FOLLOW_CHANGED,data:{pageID:k.profile_id,followStatus:c('PagesFollowType').UNFOLLOW}});},0);c('Arbiter').inform(c('FeedBlacklistButton').BLACKLIST,k);},updateLikeCount:function(i,j){c('Arbiter').subscribe(c('PageLikeConstants').LIKED_SUCCESS,function(k,l){var m=l.profile_id;if(j==m){var n=c('XPagesLikeCountController').getURIBuilder().setInt('page_id',j).setString('like_id',i).getURI();new (c('AsyncRequest'))().setURI(n).send();}});},_saveLike:function(i,j,k,l,m,n,o,p){var q=this._getOption(p,'actor_id');c('Tour').getInstance().hideStep('low_page_likes');if(this._getOption(p,'is_fundraiser')&&this._getOption(p,'logging_info'))c('SocialGoodCharityActionsLoggerUtils').logJoinActionClick(k,this._getOption(p,'logging_info'));c('PageFanning').setFanStatus(i,j,k,false,function(){h.informLikeSuccess(j);if(!k&&this._getOption(p,'reload_on_unlike')||k&&this._getOption(p,'reload_on_like'))location.reload();}.bind(this),l,{fan_origin:m,fan_source:n,cat:o,actor_id:q});},_likeButtonAction:function(i,j,k,l,m,event,n){var o=this._getOption(n,'actor_id');this._saveLike(event.getTarget(),i,true,function(p){c('Arbiter').inform(c('PageLikeConstants').UNLIKED,{profile_id:i,actor_id:o});c('AsyncResponse').defaultErrorHandler(p);},j,k,l,n);h.informLike(i,m,j,n);},_shouldUpdateButton:function(i,j,k){var l=this._getOption(j,'actor_id');if(i===k.profile_id){if(l===null)return true;if(k.actor_id!==null&&l===k.actor_id)return true;}return false;},_getOption:function(i,j){if(i&&j in i)return i[j];return null;}};f.exports=h;b.PageLikeButton=h;},null);