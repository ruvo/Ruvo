if (self.CavalryLogger) { CavalryLogger.start_js(["tTyz7"]); }

__d("P2PChannelType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CREDIT_CARD_CHANGED:"P2P\/CreditCardChanged",CREDIT_CARD_DELETED:"P2P\/CreditCardDeleted",TRANSFER_STATUS_CHANGED:"P2P\/TransferStatusChanged",PLATFORM_CONTEXT_NEW:"P2P\/PlatformContextNew",PLATFORM_CONTEXT_DISMISSED:"P2P\/PlatformContextDismissed",PLATFORM_CONTEXT_ELIGIBLE_ITEM_UPDATED:"P2P\/PlatformContextEligibleItemUpdated",PAYMENT_REQUEST_STATUS_CHANGED:"P2P\/PaymentRequestStateChanged"};},null);
__d("P2PPasswordProtectionParam",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={STATUS:"status"};},null);
__d("P2PPaymentCampaignNames",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ZANGOOSE:"zangoose",SEVIPER:"seviper",PICHU:"pichu"};},null);
__d("P2PPaymentMethodCategory",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CREDIT_CARD:"credit_card",DEBIT_CARD:"debit_card",PREPAID_CARD:"prepaid_card"};},null);
__d("P2PTransferParam",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={TRANSFER_ID:"transfer_id",STATUS:"status",SENDER_STATUS:"sender_status",RECEIVER_STATUS:"receiver_status",RISK_RESULT:"risk_result"};},null);
__d("PaymentActionAPIFields",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={AUTHORIZE:"authorize",CAPTURE:"capture",CHARGE:"charge",REFUND:"refund",VOID:"void",CHARGEBACK:"chargeback",CHARGEBACK_REVERSAL:"chargeback_reversal",SALE:"sale",GEN_ASYNC_CREDENTIAL:"gen_async_credential"};},null);
__d('MessengerText.react',['cx','React','joinClasses'],function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){return (c('React').createElement('div',babelHelpers['extends']({},this.props,{className:c('joinClasses')("_39r5"+(this.props.type==='primary'?' '+"_39r6":'')+(this.props.type==='secondary'?' '+"_39r7":'')+(this.props.size==='small'?' '+"_39r8":'')+(this.props.display==='inline'?' '+"__0d":''),this.props.className)}),this.props.children));};function l(){i.apply(this,arguments);}l.propTypes={display:k.oneOf(['inline','block']),type:k.oneOf(['primary','secondary']).isRequired,size:k.oneOf(['small'])};f.exports=l;},null);
__d('P2PAPIUtils',['fbt','CreditCardFormParam','guid'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=[1001,1004,1006,1002],j={getRandomDigits:function(k){return Math.random().toString().slice(2,2+k);},genRequestID:function(){return 'id:'+c('guid')()+':'+Date.now();},genOfflineThreadingID:function(){return Date.now()+''+j.getRandomDigits(6);},getUncaughtErrorMessage:function(k){if(k&&i.indexOf(k)!==-1)return h._("Sorry, we were unable to complete your request. Please check that you are connected to the internet or refresh this page and try again.");return h._("Sorry, something went wrong. Please try again later.");},prepareCardMutationData:function(k){var l={},m=k[c('CreditCardFormParam').CARD_NUMBER].replace(/ /g,'');l[c('CreditCardFormParam').CARD_NUMBER]=m;if(typeof k[c('CreditCardFormParam').CARD_EXPIRATION]==='string'){var n=k[c('CreditCardFormParam').CARD_EXPIRATION].split('/');l[c('CreditCardFormParam').MONTH]=n[0];l[c('CreditCardFormParam').YEAR]=n[1];l[c('CreditCardFormParam').CARD_EXPIRATION]={};l[c('CreditCardFormParam').CARD_EXPIRATION][c('CreditCardFormParam').MONTH]=l[c('CreditCardFormParam').MONTH];l[c('CreditCardFormParam').CARD_EXPIRATION][c('CreditCardFormParam').YEAR]=l[c('CreditCardFormParam').YEAR];}else{l[c('CreditCardFormParam').MONTH]=k[c('CreditCardFormParam').CARD_EXPIRATION][c('CreditCardFormParam').MONTH];l[c('CreditCardFormParam').YEAR]=k[c('CreditCardFormParam').CARD_EXPIRATION][c('CreditCardFormParam').YEAR];}return babelHelpers['extends']({},k,l);}};f.exports=j;},null);
__d("XCommerceConsumerReceiptUploadCompletionController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/commerce\/transaction-invoice\/update\/receipt-upload\/",{});},null);
__d("XCommerceTransactionInvoiceDetailsController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/messages\/commerce\/transaction_invoice_details\/",{invoice_id:{type:"String",required:true}});},null);
__d("XMoneypennyPaymentsCreateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/moneypenny\/payments\/_create\/",{});},null);
__d("XP2PAddressCreateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/address\/_create\/",{});},null);
__d("XP2PAddressesController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/addresses\/",{});},null);
__d("XP2PBannerDismissalsUpdateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/banner_dismissals\/_update\/",{banner_type:{type:"String",required:true}});},null);
__d("XP2PBannerStatesController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/banner_states\/",{});},null);
__d("XP2PBannerViewsUpdateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/banner_views\/_update\/",{banner_type:{type:"String",required:true}});},null);
__d("XP2PCardBINValidateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/card_bin\/validate\/",{bin_number:{type:"String",required:true}});},null);
__d("XP2PCreditCardCreateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/credit_cards\/_create\/",{});},null);
__d("XP2PCreditCardDeleteController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/credit_cards\/_delete\/",{});},null);
__d("XP2PCreditCardUpdateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/credit_cards\/_update\/",{});},null);
__d("XP2PCreditCardVerifyController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/credit_cards\/_verify\/",{});},null);
__d("XP2PCreditCardsController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/credit_cards\/",{});},null);
__d("XP2PCurrentUserProfileDataController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/current_user_profile_data\/",{});},null);
__d("XP2PExtensiveTransferDetailsController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/transaction\/details\/",{id:{type:"String",required:true}});},null);
__d("XP2PFriendPickerController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/friend_picker\/",{limit:{type:"Int",defaultValue:100},query:{type:"String"}});},null);
__d("XP2PPasswordProtectionStatusController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/password_protection_status\/",{});},null);
__d("XP2PPasswordProtectionStatusUpdateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/password_protection_status\/_update\/",{});},null);
__d("XP2PPaymentRequestCancelController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/payment_requets\/_cancel\/",{});},null);
__d("XP2PPaymentRequestCreateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/payment_requests\/_create\/",{});},null);
__d("XP2PPaymentRequestDeclineController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/payment_requets\/_decline\/",{});},null);
__d("XP2PPendingPaymentRequestsController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/pending_payment_requests\/",{});},null);
__d("XP2PPlatformContextController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/platform_context\/",{platform_context_id:{type:"String",required:true}});},null);
__d("XP2PPlatformMsgrCommerceCartCreateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/platform\/msgr_commerce\/create\/",{});},null);
__d("XP2PPlatformSetShippingAddressController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/platform\/set_shipping_address\/",{});},null);
__d("XP2PPresetCreditCardSetController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/preset_credit_card\/_set\/",{});},null);
__d("XP2PProductItemBannerController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/product_item_banner\/",{other_user_id:{type:"String",required:true}});},null);
__d("XP2PProductItemBannerDismissalController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/product_item_banner\/_dismiss\/",{platform_context_id:{type:"String",required:true}});},null);
__d("XP2PProductItemBannerMarkSoldController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/product_item_banner\/_mark_sold\/",{platform_context_id:{type:"String",required:true}});},null);
__d("XP2PTransactionsCampaignCreateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/transactions\/campaign\/_create\/",{});},null);
__d("XP2PTransactionsCancelController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/transactions\/_cancel\/",{});},null);
__d("XP2PTransactionsController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/transactions\/",{since:{type:"Int"}});},null);
__d("XP2PTransactionsCreateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/transactions\/_create\/",{});},null);
__d("XP2PTransactionsDeclineController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/transactions\/_decline\/",{});},null);
__d("XP2PUserEligibilityController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/user_eligibility\/",{user_ids:{type:"StringVector",required:true}});},null);
__d("XPayUserPaymentMethodsController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pay\/user_payment_methods\/",{payment_type:{type:"Enum",required:true,enumType:1},extra_data:{type:"StringToStringMap"}});},null);
__d("XPayUserPaymentsController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pay\/payments\/_charge\/",{});},null);
__d('P2PAPI',['AsyncRequest','CreditCardFormParam','P2PActions','P2PAPIUtils','P2PLogger','P2PGKValues','P2PPasswordProtectionParam','P2PPaymentCampaignNames','P2PPaymentLoggerEvent','P2PPaymentRequestStatus','P2PTransferParam','PaymentActionAPIFields','PaymentTokenProxyUtils','ImmutableObject','XCommerceConsumerReceiptUploadCompletionController','XCommerceTransactionInvoiceDetailsController','XMoneypennyPaymentsCreateController','XP2PAddressesController','XP2PAddressCreateController','XP2PBannerDismissalsUpdateController','XP2PBannerStatesController','XP2PBannerViewsUpdateController','XP2PCardBINValidateController','XP2PCreditCardDeleteController','XP2PCreditCardUpdateController','XP2PCreditCardCreateController','XP2PCreditCardVerifyController','XP2PCreditCardsController','XP2PCurrentUserProfileDataController','XP2PExtensiveTransferDetailsController','XP2PFriendPickerController','XP2PPasswordProtectionStatusController','XP2PPasswordProtectionStatusUpdateController','XP2PPaymentRequestCancelController','XP2PPaymentRequestCreateController','XP2PPaymentRequestDeclineController','XP2PPendingPaymentRequestsController','XP2PPlatformContextController','XP2PPlatformMsgrCommerceCartCreateController','XP2PPlatformSetShippingAddressController','XP2PPresetCreditCardSetController','XP2PProductItemBannerController','XP2PProductItemBannerDismissalController','XP2PProductItemBannerMarkSoldController','XP2PTransactionsCampaignCreateController','XP2PTransactionsCancelController','XP2PTransactionsCreateController','XP2PTransactionsController','XP2PTransactionsDeclineController','XP2PUserEligibilityController','XPayUserPaymentMethodsController','XPayUserPaymentsController','emptyFunction','isEmpty'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=function(j,event){if(c('P2PGKValues').P2PWWWClientExceptionLogging)c('P2PLogger').log(event,{exception_message:j.getErrorDescription(),exception_code:j.getError()});},i={getAllCreditCards:function(){var j=c('XP2PCreditCardsController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(j).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(true).setHandler(function(k){var l=k.getPayload(),m=!l.error?l:[];c('P2PActions').updateCreditCards(m);}).setErrorHandler(function(k){c('P2PActions').updateCreditCardsError();}).send();},getPaymentMethods:function(j){var k=c('XPayUserPaymentMethodsController').getURIBuilder().setEnum('payment_type',j.payment_type).setStringToStringMap('extra_data',j.extra_data).getURI(),l=j.id,m=babelHelpers.objectWithoutProperties(j,['id']);new (c('AsyncRequest'))().setURI(k).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(true).setHandler(function(n){var o=n.getPayload();c('P2PActions').updatePaymentMethods({id:l,paymentMethodsData:o});}).setErrorHandler(function(n){c('P2PActions').updatePaymentMethodsError({id:l,error:{message:c('P2PAPIUtils').getUncaughtErrorMessage(n.getError())}});}).send();},createTransaction:function(j){var k=c('XP2PTransactionsCreateController').getURIBuilder().getURI(),l={},m=j.formData,n=j.success||c('emptyFunction'),o=j.error||c('emptyFunction');l[c('CreditCardFormParam').CREDENTIAL_ID]=m[c('CreditCardFormParam').CREDENTIAL_ID];l.amount=m.amount;l.receiver_id=m.receiverId;l.offline_threading_id=c('P2PAPIUtils').genOfflineThreadingID();l.group_thread_fbid=m.group_thread_fbid;l.platform_context_id=m.platform_context_id;l.shipping_address_id=m.shippingAddressID;l.shipping_option_id=m.shippingOptionID;l.memo_text=m.memoText;l.memo_image_ids=m.memoPhotoIDs;l.payment_request_id=m.paymentRequestID;new (c('AsyncRequest'))().setData(l).setMethod('POST').setURI(k).setAllowCrossPageTransition(true).setHandler(function(p){var q=p?p.getPayload():{};if(q.error){o(q.error);}else{n(q);this.getAllCreditCards();if(l.payment_request_id)c('P2PActions').paymentRequestUpdated({id:l.payment_request_id,currentStatus:c('P2PPaymentRequestStatus').TRANSFER_COMPLETED});}}.bind(this)).setErrorHandler(function(p){o({message:c('P2PAPIUtils').getUncaughtErrorMessage(p.getError())});h(p,c('P2PPaymentLoggerEvent').UI_ACTN_CREATE_TRANSFER_EXCEPTION);}).send();},addCreditCard:function(j){c('P2PActions').ignoreCreditCardChannelEvents();var k=c('XP2PCreditCardCreateController').getURIBuilder().getURI().getPath(),l=j.onSuccess||c('emptyFunction'),m=j.onError||c('emptyFunction'),n=c('PaymentTokenProxyUtils').getURI({tpe:k});j=c('P2PAPIUtils').prepareCardMutationData(j);var o=new (c('ImmutableObject'))(j),p=j.hasPlatformContext;delete j.onSuccess;delete j.onError;c('P2PActions').creditCardSaving();new (c('AsyncRequest'))().setAllowCrossOrigin(true).setURI(n).setData(j).setMethod('POST').setHandler(function(q){var r=q.getPayload();if(!r.errors){o=c('ImmutableObject').set(o,r);c('P2PActions').addCreditCard(o);if(r.isPreset)c('P2PActions').transferAccepted();if(p)c('P2PActions').checkoutCreditCardSelected(r[c('CreditCardFormParam').CREDENTIAL_ID]);l();}else{c('P2PActions').addCreditCardError(babelHelpers['extends']({requestID:o.requestID},r));m(r);}c('P2PActions').allowCreditCardChannelEvents();}).setErrorHandler(function(q){c('P2PActions').addCreditCardError({requestID:o.requestID,errors:{general:{message:c('P2PAPIUtils').getUncaughtErrorMessage(q.getError())}}});c('P2PActions').allowCreditCardChannelEvents();h(q,c('P2PPaymentLoggerEvent').UI_ACTN_ADD_CARD_EXCEPTION);}).send();},getTransactions:function(j){j=j||{};var k={},l=j,m=c('XP2PTransactionsController').getURIBuilder().getURI(),n=new (c('ImmutableObject'))(l);if(l.since)k.since=l.since;return new (c('AsyncRequest'))().setData(k).setURI(m).setMethod('GET').setReadOnly(true).setHandler(function(o){var p=o.getPayload();if(!p.error){c('P2PActions').updateTransfers(p);}else c('P2PActions').updateTransfersError(babelHelpers['extends']({requestID:n.requestID},p));}).setErrorHandler(function(o){c('P2PActions').updateTransfersError({error:{message:c('P2PAPIUtils').getUncaughtErrorMessage(o.getError())},requestID:n.requestID});}).send();},getExtensiveTransferDetailsByID:function(j){var k=c('XP2PExtensiveTransferDetailsController').getURIBuilder().setString('id',j).getURI();new (c('AsyncRequest'))().setURI(k).setMethod('GET').setReadOnly(true).setHandler(function(l){var m=l.getPayload();if(!m.error)c('P2PActions').extensiveTransferDetailsLoaded(m);}).send();},getNUXTransactions:function(){var j=new Date(),k=Math.round(j.setDate(j.getDate()-15)/1000),l=c('XP2PTransactionsController').getURIBuilder().getURI();return new (c('AsyncRequest'))().setData({since:k}).setURI(l).setMethod('GET').setReadOnly(true).setHandler(function(m){var n=m.getPayload();if(!n.error)c('P2PActions').updateNUXTransfers(n);}).send();},updatePresetCreditCard:function(j){var k=c('XP2PPresetCreditCardSetController').getURIBuilder().getURI();new (c('AsyncRequest'))().setData(j).setURI(k).setMethod('POST').setHandler(function(l){var m=l.getPayload();if(!m.error){c('P2PActions').updatePresetCreditCard(babelHelpers['extends']({},m,{requestID:j.requestID}));c('P2PActions').transferAccepted();}else c('P2PActions').updatePresetCreditCardError(babelHelpers['extends']({},m,{requestID:j.requestID}));}).setErrorHandler(function(l){c('P2PActions').updatePresetCreditCardError({error:{message:c('P2PAPIUtils').getUncaughtErrorMessage(l.getError())},requestID:j.requestID});h(l,c('P2PPaymentLoggerEvent').UI_ACTN_UPDATE_PRESET_CARD_EXCEPTION);}).send();},updateCreditCard:function(j){c('P2PActions').ignoreCreditCardChannelEvents();var k=c('XP2PCreditCardUpdateController').getURIBuilder().getURI().getPath(),l=c('PaymentTokenProxyUtils').getURI({tpe:k});j=c('P2PAPIUtils').prepareCardMutationData(j);var m=new (c('ImmutableObject'))(j);new (c('AsyncRequest'))().setAllowCrossOrigin(true).setURI(l).setData(j).setMethod('POST').setHandler(function(n){var o=n.getPayload();if(!o.errors){c('P2PActions').updateCreditCard(m);}else c('P2PActions').updateCreditCardError(babelHelpers['extends']({},o,{requestID:m.requestID}));c('P2PActions').allowCreditCardChannelEvents();}).setErrorHandler(function(n){c('P2PActions').updateCreditCardError({errors:{general:{message:c('P2PAPIUtils').getUncaughtErrorMessage(n.getError())}},requestID:m.requestID});c('P2PActions').allowCreditCardChannelEvents();h(n,c('P2PPaymentLoggerEvent').UI_ACTN_UPDATE_CARD_EXCEPTION);}).send();},deleteCreditCard:function(j){var k=c('XP2PCreditCardDeleteController').getURIBuilder().getURI();new (c('AsyncRequest'))().setData(j).setMethod('POST').setURI(k).setHandler(function(l){var m=l.getPayload();if(!m.error){c('P2PActions').deleteCreditCard(babelHelpers['extends']({},m,{requestID:j.requestID}));}else c('P2PActions').deleteCreditCardError(babelHelpers['extends']({},m,{requestID:j.requestID}));}).setErrorHandler(function(l){c('P2PActions').deleteCreditCardError({error:{message:c('P2PAPIUtils').getUncaughtErrorMessage(l.getError())},requestID:j.requestID});}).send();},getPasswordProtectionSetting:function(j){var k=c('XP2PPasswordProtectionStatusController').getURIBuilder().getURI(),l=j.success||c('emptyFunction'),m=j.error||c('emptyFunction');new (c('AsyncRequest'))().setURI(k).setMethod('GET').setReadOnly(true).setHandler(function(n){var o=n?n.getPayload():[];if(o.error){m();}else l(o);}).setErrorHandler(function(n){m();}).send();},setPasswordProtectionSetting:function(j){var k=c('XP2PPasswordProtectionStatusUpdateController').getURIBuilder().getURI(),l=j.formData,m=j.success||c('emptyFunction'),n=j.error||c('emptyFunction'),o={};o[c('P2PPasswordProtectionParam').STATUS]=l[c('P2PPasswordProtectionParam').STATUS];new (c('AsyncRequest'))().setData(o).setURI(k).setMethod('POST').setHandler(function(p){var q=p?p.getPayload():{};if(q.error){n(q.error);}else m();}).setErrorHandler(function(p){n();}).send();},declineTransaction:function(j){var k=c('XP2PTransactionsDeclineController').getURIBuilder().getURI(),l=j.formData,m=j.success||c('emptyFunction'),n=j.error||c('emptyFunction'),o={};o[c('P2PTransferParam').TRANSFER_ID]=l[c('P2PTransferParam').TRANSFER_ID];new (c('AsyncRequest'))().setData(o).setURI(k).setMethod('POST').setHandler(function(p){var q=p?p.getPayload():{},r={};if(q.error){n(q.error);}else{m();r[c('P2PTransferParam').TRANSFER_ID]=o[c('P2PTransferParam').TRANSFER_ID];c('P2PActions').transferDeclined(r);}}).setErrorHandler(function(p){n();h(p,c('P2PPaymentLoggerEvent').UI_ACTN_DECLINE_TRANSFER_EXCEPTION);}).send();},cancelTransaction:function(j){var k=c('XP2PTransactionsCancelController').getURIBuilder().getURI(),l=j.formData,m=j.success||c('emptyFunction'),n=j.error||c('emptyFunction'),o={};o[c('P2PTransferParam').TRANSFER_ID]=l[c('P2PTransferParam').TRANSFER_ID];new (c('AsyncRequest'))().setData(o).setURI(k).setMethod('POST').setHandler(function(p){var q=p?p.getPayload():{};if(q.error){n(q.error);}else m();}).setErrorHandler(function(p){n();}).send();},verifyCreditCard:function(j){var k=c('XP2PCreditCardVerifyController').getURIBuilder().getURI().getPath(),l=c('PaymentTokenProxyUtils').getURI({tpe:k});new (c('AsyncRequest'))().setAllowCrossOrigin(true).setURI(l).setData(j).setMethod('POST').setHandler(function(m){var n=m.getPayload();if(!n.error){c('P2PActions').verifyCreditCard(babelHelpers['extends']({},n,{requestID:j.requestID}));}else c('P2PActions').verifyCreditCardError(babelHelpers['extends']({},n,{requestID:j.requestID}));}).setErrorHandler(function(m){c('P2PActions').verifyCreditCardError({error:{message:c('P2PAPIUtils').getUncaughtErrorMessage(m.getError())},requestID:j.requestID});h(m,c('P2PPaymentLoggerEvent').UI_ACTN_VERIFY_CARD_EXCEPTION);}).send();},validateBINNumber:function(j){j=j||{};var k=new (c('ImmutableObject'))(j),l=c('XP2PCardBINValidateController').getURIBuilder().setString('bin_number',j.binNumber).getURI();return new (c('AsyncRequest'))().setURI(l).setMethod('GET').setReadOnly(true).setHandler(function(m){var n=m.getPayload();if(!n.error){c('P2PActions').binNumberValidated(babelHelpers['extends']({},n,{requestID:j.requestID}));}else c('P2PActions').binNumberValidatedError(babelHelpers['extends']({},n,{requestID:k.requestID}));}).send();},getUserEligibility:function(j){j=j||{};var k=c('XP2PUserEligibilityController').getURIBuilder().setStringVector('user_ids',j.userIDs).getURI();return new (c('AsyncRequest'))().setURI(k).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(true).setHandler(function(l){var m=l.getPayload();if(!m.error)c('P2PActions').userEligibilityUpdated(m);}).send();},getFriendsList:function(j,k){var l=c('XP2PFriendPickerController').getURIBuilder().setInt('limit',j).setString('query',k).getURI();return new (c('AsyncRequest'))().setURI(l).setMethod('GET').setReadOnly(true).setHandler(function(m){var n=m.getPayload();if(!n.error)c('P2PActions').friendsListUpdated({friends:n,query:k});}).send();},getBannerStates:function(){var j=c('XP2PBannerStatesController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(j).setMethod('GET').setReadOnly(true).setHandler(function(k){var l=k.getPayload();if(!l.error)c('P2PActions').bannerStatesUpdated(l);}).send();},incrementBannerViews:function(j){var k=c('XP2PBannerViewsUpdateController').getURIBuilder().setString('banner_type',j).getURI();new (c('AsyncRequest'))().setMethod('POST').setURI(k).send();},incrementBannerDismissals:function(j){var k=void 0;c('P2PActions').bannerDismissed(j);k=c('XP2PBannerDismissalsUpdateController').getURIBuilder().setString('banner_type',j).getURI();new (c('AsyncRequest'))().setMethod('POST').setURI(k).send();},createMoneypennyTransfer:function(j){var k=c('XMoneypennyPaymentsCreateController').getURIBuilder().getURI();new (c('AsyncRequest'))().setMethod('POST').setURI(k).setData({item_id:j.item_id,credential_id:j.credential_id,amount:j.amount,external_request_id:j.external_request_id}).setHandler(function(l){var m=l.getPayload();if(!m.error){c('P2PActions').moneypennyTransferCreated(babelHelpers['extends']({},m,{requestID:j.requestID}));this.getAllCreditCards();}else c('P2PActions').moneypennyTransferCreatedError(babelHelpers['extends']({},m,{requestID:j.requestID}));}.bind(this)).setErrorHandler(function(l){c('P2PActions').moneypennyTransferCreatedError({error:{message:c('P2PAPIUtils').getUncaughtErrorMessage(l.getError())},requestID:j.requestID});h(l,c('P2PPaymentLoggerEvent').UI_ACTN_CREATE_M_TRANSFER_EXCEPTION);}).send();},createFinancialIncentivesTransfer:function(j){var k=c('XP2PTransactionsCampaignCreateController').getURIBuilder().getURI(),l=j.success||c('emptyFunction'),m=j.error||c('emptyFunction'),n={};n[c('CreditCardFormParam').CREDENTIAL_ID]=j.credential_id;n.external_request_id=c('P2PAPIUtils').genOfflineThreadingID();n.campaign_name=c('P2PPaymentCampaignNames').SEVIPER;new (c('AsyncRequest'))().setData(n).setURI(k).setMethod('POST').setHandler(function(o){var p=o.getPayload();if(p.error){m(p.error);}else l();}).send();},getPlatformContextByOtherUserID:function(j){j=j||{};var k=c('XP2PProductItemBannerController').getURIBuilder().setString('other_user_id',j.otherUserID).getURI();return new (c('AsyncRequest'))().setURI(k).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(true).setHandler(function(l){var m=l.getPayload();if(!m.error&&!c('isEmpty')(m))c('P2PActions').addPlatformContext(m);}).send();},getPlatformContextByID:function(j){j=j||{};var k=j.onSuccess||c('emptyFunction'),l=j.onError||c('emptyFunction'),m=c('XP2PPlatformContextController').getURIBuilder().setString('platform_context_id',j.id).getURI();return new (c('AsyncRequest'))().setURI(m).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(true).setHandler(function(n){var o=n.getPayload();if(!o.error&&!c('isEmpty')(o)){c('P2PActions').addPlatformContext(o);k(o);}}).setErrorHandler(function(n){c('P2PActions').addPlatformContextError({itemID:j.productItemID,error:{message:c('P2PAPIUtils').getUncaughtErrorMessage(n.getError())}});l();}).send();},dismissPlatformContextBanner:function(j){var k=void 0;c('P2PActions').platformContextBannerDismissed(j);k=c('XP2PProductItemBannerDismissalController').getURIBuilder().setString('platform_context_id',j).getURI();new (c('AsyncRequest'))().setMethod('POST').setURI(k).send();},markSoldPlatformContextProductItem:function(j){var k=void 0;c('P2PActions').platformContextProductItemSold(j);k=c('XP2PProductItemBannerMarkSoldController').getURIBuilder().setString('platform_context_id',j).getURI();new (c('AsyncRequest'))().setMethod('POST').setURI(k).send();},getAddresses:function(){var j=c('XP2PAddressesController').getURIBuilder().getURI();return new (c('AsyncRequest'))().setURI(j).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(true).setHandler(function(k){var l=k.getPayload();if(!l.error)c('P2PActions').updateAddresses(l);}).send();},addAddress:function(){var j=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],k=c('XP2PAddressCreateController').getURIBuilder().getURI(),l=void 0,m=j.platformContext,n=j.onSuccess||c('emptyFunction'),o=j.onError||c('emptyFunction');l={label:j.label,care_of:j.care_of,city:j.city,street1:j.street1,street2:j.street2,state:j.state,zip:j.zip,country:j.country};c('P2PActions').addressSaving();return new (c('AsyncRequest'))().setData(l).setURI(k).setMethod('POST').setHandler(function(p){var q=p.getPayload();if(!q.errors){c('P2PActions').addAddress(babelHelpers['extends']({},q,l,{requestID:j.requestID}));if(m){c('P2PActions').checkoutAddressSelected(q.id);this.setPlatformContextShippingAddress({platformContextID:m.id,shippingAddressID:q.id});}n();}else{c('P2PActions').addAddressError(babelHelpers['extends']({},q,{requestID:j.requestID}));o(q);}}.bind(this)).setErrorHandler(function(p){c('P2PActions').addAddressError({errors:{general:{message:c('P2PAPIUtils').getUncaughtErrorMessage(p.getError())}},requestID:j.requestID});h(p,c('P2PPaymentLoggerEvent').UI_ACTN_ADD_ADDRESS_EXCEPTION);}).send();},createMCCart:function(j){var k=c('XP2PPlatformMsgrCommerceCartCreateController').getURIBuilder().getURI(),l=void 0,m=j.productItemID;j=j||{};l={item_id:m};c('P2PActions').checkoutCartInitiated();return new (c('AsyncRequest'))().setData(l).setURI(k).setMethod('POST').setHandler(function(n){var o=n.getPayload();if(!o.error){c('P2PActions').addPlatformContext(babelHelpers['extends']({},o));c('P2PActions').checkoutCartCreated({sellerID:j.sellerID,productItemID:m});}else c('P2PActions').addPlatformContextError(babelHelpers['extends']({itemID:m},o));}).setErrorHandler(function(n){c('P2PActions').addPlatformContextError({itemID:m,error:{message:c('P2PAPIUtils').getUncaughtErrorMessage(n.getError())}});h(n,c('P2PPaymentLoggerEvent').UI_ACTN_CREATE_CART_EXCEPTION);}).send();},setPlatformContextShippingAddress:function(j){var k=c('XP2PPlatformSetShippingAddressController').getURIBuilder().getURI(),l=void 0,m=j.platformContextID,n=j.shippingAddressID;j=j||{};l={platform_context_id:m,shipping_address_id:n};c('P2PActions').checkoutProcessing(true);return new (c('AsyncRequest'))().setData(l).setURI(k).setMethod('POST').setHandler(function(o){c('P2PActions').checkoutProcessing(false);var p=o.getPayload();if(!p.error)c('P2PActions').addPlatformContext(babelHelpers['extends']({},p));}).setErrorHandler(function(o){h(o,c('P2PPaymentLoggerEvent').UI_ACTN_SET_CART_ADDRESS_EXCEPTION);}).send();},getCurrentUserProfileData:function(){var j=c('XP2PCurrentUserProfileDataController').getURIBuilder().getURI();return new (c('AsyncRequest'))().setURI(j).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(true).setHandler(function(k){var l=k.getPayload();if(!l.error){c('P2PActions').checkoutBuyerProfileUpdated(l);}else c('P2PActions').checkoutBuyerProfileUpdated({});}).setErrorHandler(function(k){c('P2PActions').checkoutBuyerProfileUpdated({});}).send();},createPaymentRequest:function(j){var k=c('XP2PPaymentRequestCreateController').getURIBuilder().getURI(),l=j.formData,m=l.amount,n=l.requesteeID,o=l.memoText,p=l.group_thread_fbid,q={amount:m,memo_text:o,offline_threading_id:c('P2PAPIUtils').genOfflineThreadingID(),requestee_id:n,group_thread_fbid:p,platform_context_id:l.platform_context_id};c('P2PActions').paymentRequestInitiated();return new (c('AsyncRequest'))().setData(q).setURI(k).setMethod('POST').setHandler(function(r){var s=r.getPayload();if(!s.error){c('P2PActions').paymentRequestCreated(babelHelpers['extends']({},s,{amount:m,memoText:o,requesteeID:n}));j.success(s);}else{c('P2PActions').paymentRequestCreatedError(s);j.error(s);}c('P2PActions').paymentRequestInitiatedComplete();}).setErrorHandler(function(r){j.error({error:{message:c('P2PAPIUtils').getUncaughtErrorMessage(r.getError())}});c('P2PActions').paymentRequestInitiatedComplete();h(r,c('P2PPaymentLoggerEvent').UI_ACTN_CREATE_REQUEST_EXCEPTION);}).send();},declinePaymentRequest:function(j){var k=c('XP2PPaymentRequestDeclineController').getURIBuilder().getURI(),l=j.paymentRequestID,m=j.success||c('emptyFunction'),n=j.error||c('emptyFunction'),o={payment_request_id:l};c('P2PActions').paymentRequestDeclineInitiated();return new (c('AsyncRequest'))().setData(o).setURI(k).setMethod('POST').setHandler(function(p){var q=p.getPayload();if(!q.error){c('P2PActions').paymentRequestDeclined(l);c('P2PActions').hideDialog();m(q);}else{c('P2PActions').paymentRequestDeclineError(q);n(q);}}).setErrorHandler(function(p){c('P2PActions').paymentRequestDeclineError({error:{message:c('P2PAPIUtils').getUncaughtErrorMessage(p.getError())}});n();h(p,c('P2PPaymentLoggerEvent').UI_ACTN_DECLINE_REQUEST_EXCEPTION);}).send();},cancelPaymentRequest:function(j){var k=c('XP2PPaymentRequestCancelController').getURIBuilder().getURI(),l=j.paymentRequestID,m=j.success||c('emptyFunction'),n=j.error||c('emptyFunction'),o={payment_request_id:l};c('P2PActions').paymentRequestCancelInitiated();return new (c('AsyncRequest'))().setData(o).setURI(k).setMethod('POST').setHandler(function(p){var q=p.getPayload();if(!q.error){c('P2PActions').paymentRequestCanceled(l);c('P2PActions').hideDialog();m(q);}else{c('P2PActions').paymentRequestCancelError(q);n(q);}}).setErrorHandler(function(p){c('P2PActions').paymentRequestCancelError({error:{message:c('P2PAPIUtils').getUncaughtErrorMessage(p.getError())}});n();h(p,c('P2PPaymentLoggerEvent').UI_ACTN_CANCEL_REQUEST_EXCEPTION);}).send();},getPendingPaymentRequests:function(){var j=c('XP2PPendingPaymentRequestsController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(j).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(true).setHandler(function(k){var l=k.getPayload(),m=!l.error?l:[];c('P2PActions').paymentRequestsFetched(m);}).send();},getCommerceInvoiceDetails:function(j){var k=c('XCommerceTransactionInvoiceDetailsController').getURIBuilder().setString('invoice_id',j.invoiceID).getURI(),l=j.onSuccess||c('emptyFunction'),m=j.onError||c('emptyFunction');new (c('AsyncRequest'))().setURI(k).setMethod('GET').setReadOnly(true).setHandler(function(n){var o=n.getPayload();if(!o.error){l(o);}else m(o);}).setErrorHandler(function(n){m({error:{message:c('P2PAPIUtils').getUncaughtErrorMessage(n.getError())}});}).send();},completeReceiptUploadCheckout:function(j){var k=c('XCommerceConsumerReceiptUploadCompletionController').getURIBuilder().getURI(),l=j.onSuccess||c('emptyFunction'),m=j.onError||c('emptyFunction'),n={invoice_id:j.invoiceID,receipt_image_id:j.receiptImageID,selected_payment_option_id:j.selectedPaymentOptionID};new (c('AsyncRequest'))().setURI(k).setMethod('POST').setData(n).setAllowCrossOrigin(true).setHandler(function(o){var p=o.getPayload();if(!p||!p.error){l(p);}else m({message:c('P2PAPIUtils').getUncaughtErrorMessage()});}).setErrorHandler(function(o){m({message:c('P2PAPIUtils').getUncaughtErrorMessage(o.getError())});}).send();},completeNMORCheckout:function(j){var k=j.success,l=j.error,m={nmor_order_type:j.nmorOrderType,action:c('PaymentActionAPIFields').SALE,receiver_id:j.receiverID,order_id:j.orderID,request_id:c('P2PAPIUtils').genRequestID(),currency:j.currency,credential_id:j.credentialId,shipping_address_id:j.shippingAddressID,shipping_option_id:j.shippingOptionID,payment_method:{type:j.paymentMethodType},payment_method_data:j.paymentMethodData,extra_data:j.extraData,amount:j.amount,csc:j.securityCode},n=c('XPayUserPaymentsController').getURIBuilder().getURI();if(m.credential_id&&m.csc){var o=n.getPath();n=c('PaymentTokenProxyUtils').getURI({tpe:o});}var p=new (c('AsyncRequest'))().setAllowCrossOrigin(true).setURI(n).setData(m).setMethod('POST');if(k)p.setHandler(function(q){var r=q.getPayload();if(r.error){l(r.error);}else k(r.id,r.extra_data);});if(l)p.setErrorHandler(function(q){l({message:c('P2PAPIUtils').getUncaughtErrorMessage(q.getError())});});p.send();}};f.exports=i;},null);
__d('P2PNUXRendererUtils',['CurrentUser','ImmutableObject','MercuryAttachmentType','P2PTransferParam','P2PTransferStatus','StoryAttachmentStyle'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={getTransferFromMessage:function(i){var j=void 0,k=void 0;if(!i||!i.attachments||!i.attachments.length)return null;k=i.attachments[0];if(this.isShareAttachment(k))j=k.share.target;if(j)j=new (c('ImmutableObject'))(j);return j;},isSuccessfulReceivedTransfer:function(i){return (i&&i.receiver&&i.receiver.id===c('CurrentUser').getID()&&(i.status===c('P2PTransferStatus').COMPLETED||i.status===c('P2PTransferStatus').PENDING_RECIPIENT_NUX));},isShareAttachment:function(i){return !!(typeof i!=='string'&&i.attach_type==c('MercuryAttachmentType').SHARE&&i.share&&i.share.style_list&&i.share.style_list.indexOf(c('StoryAttachmentStyle').ORION)>=0);},doesNUXNeedCreditCards:function(i){var j=c('CurrentUser').getID()===i.sender.id;return (!j&&i[c('P2PTransferParam').STATUS]===c('P2PTransferStatus').PENDING_RECIPIENT_NUX);},isRecipientActionableStatus:function(i){var j=i[c('P2PTransferParam').STATUS],k=c('CurrentUser').getID()===i.sender.id;return (!k&&(j===c('P2PTransferStatus').PENDING_RECIPIENT_NUX||j===c('P2PTransferStatus').PENDING_RECIPIENT_VERIFICATION||j===c('P2PTransferStatus').PENDING_PUSH_FAIL));}};f.exports=h;},null);
__d('P2PAmountUtils',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=10000,i={isAmountOverLegalLimit:function(j){return parseFloat(this.sanitizeAmount(j))>=h;},isAmountZero:function(j){return parseFloat(this.sanitizeAmount(j))===0;},isValidSendAmount:function(j){return !this.isAmountOverLegalLimit(j)&&!this.isAmountZero(j);},sanitizeAmount:function(j){return j.replace(/[^0-9\.]+/g,'');}};f.exports=i;},null);
__d('P2PButton.react',['CurrentEnvironment','MessengerDialogButton.react','React','XUIButton.react'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){var k=c('CurrentEnvironment').messengerdotcom,l=k?c('MessengerDialogButton.react'):c('XUIButton.react'),m=this.props.type;if(!m)m=this.props.use==='confirm'?'primary':'secondary';var n=k?'default':this.props.use,o=babelHelpers['extends']({},this.props,{type:m,use:n});return (c('React').createElement(l,o,this.props.children));};function j(){h.apply(this,arguments);}f.exports=j;},null);
__d('P2PDialog.react',['CurrentEnvironment','LayerFadeOnHide','MessengerDialog.react','React','XUIDialog.react','emptyFunction'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'P2PDialog',propTypes:{onToggle:h.func,shown:h.bool,width:h.number},getDefaultProps:function(){return {onToggle:c('emptyFunction'),repositionOnUpdate:false,shown:true,width:400};},componentDidUpdate:function(){if(this.props.repositionOnUpdate)setTimeout(function(){if(this.isMounted()&&this.refs.dialog&&this.refs.dialog.layer)this.refs.dialog.layer.updatePosition();}.bind(this),0);},render:function(){var j=c('CurrentEnvironment').messengerdotcom,k=j?c('MessengerDialog.react'):c('XUIDialog.react');return (c('React').createElement(k,babelHelpers['extends']({behaviors:{LayerFadeOnHide:c('LayerFadeOnHide')}},this.props,{ref:'dialog'}),this.props.children));}});f.exports=i;},null);
__d('P2PDialogBody.react',['CurrentEnvironment','MessengerDialogBody.react','React','XUIDialogBody.react'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){var k=c('CurrentEnvironment').messengerdotcom,l=k?c('MessengerDialogBody.react'):c('XUIDialogBody.react');return (c('React').createElement(l,this.props,this.props.children));};function j(){h.apply(this,arguments);}f.exports=j;},null);
__d('P2PDialogFooter.react',['cx','CurrentEnvironment','MessengerDialogFooter.react','React','XUIDialogFooter.react','joinClasses'],function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){var l=c('CurrentEnvironment').messengerdotcom,m=l?c('MessengerDialogFooter.react'):c('XUIDialogFooter.react'),n=void 0,o=this.props.children;if(l){n=c('React').Children.count(this.props.children);o=c('React').Children.map(this.props.children,function(p,q){if(!p)return null;return c('React').cloneElement(p,{className:c('joinClasses')(p.props.className,"_4ec0"),type:q===0&&n===2?'secondary':'primary'});});}return (c('React').createElement(m,this.props,o));};function k(){i.apply(this,arguments);}f.exports=k;},null);
__d('P2PDialogTitle.react',['CurrentEnvironment','MessengerDialogHeader.react','React','XUIDialogTitle.react'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){var k=c('CurrentEnvironment').messengerdotcom,l=k?c('MessengerDialogHeader.react'):c('XUIDialogTitle.react');return (c('React').createElement(l,this.props,this.props.children));};function j(){h.apply(this,arguments);}f.exports=j;},null);
__d('P2PListRow.react',['cx','invariant','React'],function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){var n=this.props;!(c('React').Children.count(n.children)===2)?i(0):void 0;var o=n.offset,p=n.offsetRight!==undefined&&n.offsetRight+'px',q=n.offsetBottom!==undefined&&n.offsetBottom+'px';return (c('React').createElement('div',{className:"_3q6c"+(o==='large'?' '+"_3q6d":'')+(o==='small'?' '+"_3q6o":'')},c('React').createElement('div',{className:"_3q6p",style:{paddingRight:p,paddingBottom:q}},n.children[0]),c('React').createElement('div',{className:"_3q6q",style:{paddingBottom:q}},n.children[1])));};function m(){j.apply(this,arguments);}m.propTypes={offset:l.oneOf(['large','small']),offsetBottom:l.number,offsetRight:l.number};m.defaultProps={offset:'large'};f.exports=m;},null);
__d('P2PText.react',['CurrentEnvironment','MessengerText.react','React','XUIGrayText.react'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.render=function(){var l=c('CurrentEnvironment').messengerdotcom,m=l?c('MessengerText.react'):c('XUIGrayText.react'),n=this.props.type,o=this.props;if(!l){o=babelHelpers['extends']({},this.props,{display:this.props.display||'block',shade:n==='primary'?'dark':'light',size:this.props.size||'small'});delete o.type;}else{o=babelHelpers['extends']({},this.props,{size:'small'});delete o.size;}return (c('React').createElement(m,o,this.props.children));};function k(){h.apply(this,arguments);}k.propTypes={type:j.oneOf(['primary','secondary']).isRequired};f.exports=k;},null);
__d('P2PFriendsListStore',['P2PActionConstants','EventEmitter','P2PAPI','P2PDispatcher'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=[],k='',l=25;h=babelHelpers.inherits(m,c('EventEmitter'));i=h&&h.prototype;function m(){i.constructor.call(this);c('P2PDispatcher').register(this.onEventDispatched.bind(this));}m.prototype.onEventDispatched=function(n){var o=n.data,p=n.type;switch(p){case c('P2PActionConstants').FRIENDS_LIST_UPDATED:this.handleFriendsListUpdated(o);this.emit('change');break;}};m.prototype.handleFriendsListUpdated=function(n){if(!k||k===n.query)j=n.friends;};m.prototype.searchFriends=function(n){k=n;this.fetchFriends(n);};m.prototype.fetchFriends=function(n){c('P2PAPI').getFriendsList(l,n);};m.prototype.getFriends=function(){return j;};f.exports=new m();},null);
__d('P2PFriendPicker.react',['cx','fbt','glyph','debounce','Image.react','Layout.react','MercuryIDs','P2PActions','P2PFriendsListStore','P2PLoadingMask.react','P2PLogger','P2PPaymentLoggerEvent','P2PText.react','React','ScrollableArea.react','XUIButton.react','XUITextInput.react'],function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('Layout.react').FillColumn,n=c('Layout.react').Column,o=c('React').PropTypes;k=babelHelpers.inherits(p,c('React').Component);l=k&&k.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return q=(r=l.constructor).call.apply(r,[this].concat(t)),this.state={friends:c('P2PFriendsListStore').getFriends(),showLoader:true},this.log=function(v,w){c('P2PLogger').log(v,babelHelpers['extends']({www_event_flow:this.props.eventFlow},w));}.bind(this),this.loggedSearch=null,this.friendPickerStoreSub=null,this.updateFriendsList=function(){this.setState({friends:c('P2PFriendsListStore').getFriends(),showLoader:false});}.bind(this),this.onFriendSelect=function(v){this.log(c('P2PPaymentLoggerEvent').UI_ACTN_FRIEND_PICKER_SELECT,{object_id:v.id});c('P2PActions').chatSendViewOpened({amount:this.props.amount,referrer:this.props.referrer,sendMoneyNUXDismissed:this.props.sendMoneyNUXDismissed,threadID:c('MercuryIDs').getThreadIDFromUserID(v.id)});this.props.onFriendSelected&&this.props.onFriendSelected();}.bind(this),this.getQuery=function(){return (this.refs.input_ref&&this.refs.input_ref.refs.textInput.getValue());}.bind(this),this.onSearchInputChange=function(){if(!this.loggedSearch){this.log(c('P2PPaymentLoggerEvent').UI_ACTN_FRIEND_PICKER_SEARCH);this.loggedSearch=true;}var v=this.getQuery();if(!v)this.setState({showLoader:true});c('P2PFriendsListStore').searchFriends(v);}.bind(this),this.renderTagLineRow=function(){if(this.state.showLoader)return null;return (c('React').createElement('li',{className:"_1px5"},c('React').createElement('div',{className:"_1px6"},this.props.subTitle)));}.bind(this),this.renderfriendRow=function(v){var w=void 0;if(this.props.buttonLabel)w=c('React').createElement(c('XUIButton.react'),{label:this.props.buttonLabel,size:'large'});return (c('React').createElement('li',{className:"_1px7",key:v.id,onClick:this.onFriendSelect.bind(this,v)},c('React').createElement(c('Layout.react'),null,c('React').createElement(m,null,c('React').createElement('div',{className:"_1px8"},c('React').createElement(c('Image.react'),{className:"_1px9",height:50,src:v.image_src,width:50})),c('React').createElement('div',{className:"_1pxa"},c('React').createElement(c('P2PText.react'),{className:"_1pxb",type:'primary'},v.full_name))),c('React').createElement(n,{className:"_1pxc"},w))));}.bind(this),this.renderFriendList=function(){var v=this.getQuery();if(!this.state.showLoader&&this.state.friends.length===0)if(v&&v.length){return (c('React').createElement('div',{className:"_1pxd"},i._("No results.")));}else return (c('React').createElement('div',{className:"_1pxd"},i._("You do not have any friends who are able to receive money.")));return (c('React').createElement('div',{className:"_1pxe"},c('React').createElement(c('P2PLoadingMask.react'),{visible:this.state.showLoader}),c('React').createElement(c('ScrollableArea.react'),{height:this.props.height},c('React').createElement('ul',null,this.state.friends.map(this.renderfriendRow),this.renderTagLineRow()))));}.bind(this),q;}p.prototype.componentDidMount=function(){this.friendPickerStoreSub=c('P2PFriendsListStore').addListener('change',this.updateFriendsList);c('P2PFriendsListStore').searchFriends();this.log(c('P2PPaymentLoggerEvent').UI_ACTN_FRIEND_PICKER_SHOWN);};p.prototype.componentWillUnmount=function(){if(this.friendPickerStoreSub){this.friendPickerStoreSub.remove();this.friendPickerStoreSub=null;}};p.prototype.render=function(){return (c('React').createElement('div',null,c('React').createElement('div',{className:"_1pxf"},c('React').createElement('div',{className:"_1pxg"},c('React').createElement(c('XUITextInput.react'),{className:"_1pxn",height:'tall',onChange:c('debounce')(this.onSearchInputChange,150),placeholder:i._("Search friends"),ref:'input_ref'}),c('React').createElement(c('Image.react'),{className:"_1pxo",src:j('search')}))),this.renderFriendList()));};p.propTypes={amount:o.string,buttonLabel:o.node,eventFlow:o.string.isRequired,height:o.number,onFriendSelected:o.func,referrer:o.string,sendMoneyNUXDismissed:o.bool,subTitle:o.node};p.defaultProps={amount:'',buttonLabel:i._("Pay Friend"),height:350,title:i._("Select Friend"),subTitle:i._("These are your friends who are able to receive money.")};f.exports=p;},null);
__d('P2PEncryptedText.react',['cx','fbt','xuiglyph','Image.react','P2PText.react','React'],function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return o=(p=l.constructor).call.apply(p,[this].concat(r)),this.getEncryptedMessage=function(){if(this.props.showPasswordProtected)return i._("Encrypted and password protected.");return i._("Encrypted and private.");}.bind(this),o;}n.prototype.render=function(){return (c('React').createElement(c('P2PText.react'),{type:'secondary'},c('React').createElement('div',{className:"__8t"},c('React').createElement(c('Image.react'),{src:j({name:'lock',shade:'light'})})),c('React').createElement('span',{className:"_2pir"},this.getEncryptedMessage())));};n.propTypes={showPasswordProtected:m.bool};n.defaultProps={showPasswordProtected:false};f.exports=n;},null);
__d('P2PNUXNextButton.react',['fbt','P2PButton.react','React'],function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){return (c('React').createElement(c('P2PButton.react'),{label:h._("Next"),onClick:this.props.onNextClick,use:'confirm'}));};function l(){i.apply(this,arguments);}l.propTypes={onNextClick:k.func.isRequired};f.exports=l;},null);
__d('P2PSendMoneyNUXListItems.react',['fbt','ix','Image.react','P2PListRow.react','P2PText.react','React'],function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return n=(o=k.constructor).call.apply(o,[this].concat(q)),this.renderRow=function(s,t){return (c('React').createElement(c('P2PListRow.react'),{offset:this.props.size},c('React').createElement(c('Image.react'),s),c('React').createElement(c('P2PText.react'),{type:'primary'},t)));}.bind(this),n;}m.prototype.render=function(){var n=this.props.size;return (c('React').createElement('div',null,this.renderRow(n==='small'?{height:18,src:i('/images/p2p/nux/nux_checkmark_small.png'),width:18}:{height:36,src:i('/images/p2p/nux/nux_checkmark_medium.png'),width:36},h._("It's FREE to send and receive money.")),this.renderRow(n==='small'?{height:27,src:i('/images/p2p/nux/nux_lock_small.png'),width:18}:{height:54,src:i('/images/p2p/nux/nux_lock_medium.png'),width:36},h._("Industry-leading security \u2014 password protection, anti-fraud team and more.")),this.renderRow(n==='small'?{height:13,src:i('/images/p2p/nux/nux_debitcard_small.png'),width:18}:{height:26,src:i('/images/p2p/nux/nux_debitcard_medium.png'),width:36},h._("Send money from your debit card to theirs."))));};m.propTypes={offset:l.oneOf(['small','medium'])};m.defaultProps={size:'small'};f.exports=m;},null);
__d('P2PSendMoneyNUXTitleText.react',['fbt','React'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(){return (c('React').createElement('div',null,h._("Send Money to Anyone")));}f.exports=i;},null);
__d('P2PSendMoneyNUXDialog.react',['cx','CurrentEnvironment','P2PDialog.react','P2PDialogBody.react','P2PDialogFooter.react','P2PDialogTitle.react','P2PEncryptedText.react','P2PLogger','P2PNUXNextButton.react','P2PPaymentLoggerEvent','P2PSendMoneyNUXListItems.react','P2PSendMoneyNUXTitleText.react','React'],function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return m=(n=j.constructor).call.apply(n,[this].concat(p)),this.$P2PSendMoneyNUXDialog2=function(){this.$P2PSendMoneyNUXDialog1(c('P2PPaymentLoggerEvent').UI_ACTN_SEND_MONEY_NUX_NEXT_CLICK);this.props.onNextClick();}.bind(this),this.$P2PSendMoneyNUXDialog1=function(r,s){c('P2PLogger').log(r,babelHelpers['extends']({www_event_flow:this.props.eventFlow},this.props.loggingData,s));}.bind(this),m;}l.prototype.componentDidMount=function(){this.$P2PSendMoneyNUXDialog1(c('P2PPaymentLoggerEvent').UI_ACTN_SEND_MONEY_NUX_SHOWN);};l.prototype.render=function(){return c('React').createElement(c('P2PDialog.react'),{onToggle:this.props.onToggle,width:this.props.width},c('React').createElement(c('P2PDialogTitle.react'),null,c('React').createElement(c('P2PSendMoneyNUXTitleText.react'),null)),c('React').createElement(c('P2PDialogBody.react'),{className:"_1ou5"},c('React').createElement(c('P2PSendMoneyNUXListItems.react'),{size:'large'})),c('React').createElement(c('P2PDialogFooter.react'),{leftContent:c('React').createElement('div',{className:"_1ou6"},c('React').createElement(c('P2PEncryptedText.react'),null))},c('React').createElement(c('P2PNUXNextButton.react'),{onNextClick:this.$P2PSendMoneyNUXDialog2})));};l.propTypes={eventFlow:k.string,onToggle:k.func.isRequired,onNextClick:k.func.isRequired,width:k.number};l.defaultProps={width:c('CurrentEnvironment').messengerdotcom?400:350};f.exports=l;},null);
__d('P2PCreditCard',['fbt','ix','CreditCardFormParam','CreditCardTypeEnum','PaymentMethodUtils','P2PPaymentMethodCategory'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j={visa:{image:i('/images/payments/icons/visa.png'),imageLarge:i('/images/payments/icons/visa-lg.png'),name:'Visa'},mc:{image:i('/images/payments/icons/mc.png'),imageLarge:i('/images/payments/icons/mc-lg.png'),name:'MasterCard'},disc:{image:i('/images/payments/icons/disc.png'),imageLarge:i('/images/payments/icons/disc-lg.png'),name:'Discover'},jcb:{image:i('/images/payments/icons/jcb.png'),imageLarge:i('/images/payments/icons/jcb-lg.png'),name:'JCB'},amex:{image:i('/images/payments/icons/amex.png'),imageLarge:i('/images/payments/icons/amex-lg.png'),name:'American Express'},unknown:{image:i('/images/brands/credit_card/credit_32.png'),imageLarge:i('/images/brands/credit_card/credit_32.png'),name:h._("Unknown Card Type")}};function k(l){this.setCredentialId(l[c('CreditCardFormParam').CREDENTIAL_ID]);this.setCardType(l[c('CreditCardFormParam').CARD_TYPE]);this.setCreditCardNumber(l[c('CreditCardFormParam').CARD_NUMBER]);this.setSelected(l.selected);this.setZipCode(l[c('CreditCardFormParam').ZIP]);this.setCSC(l[c('CreditCardFormParam').CSC]);this.setExp(l[c('CreditCardFormParam').CARD_EXPIRATION]);this.setIsPreset(l.isPreset);this.setIsVerified(l.isVerified);this.setIsMobileVerified(l.isMobileVerified);this.setIsPersonalTransferEligible(l.isPersonalTransferEligible);this.setCategory(l.category);}k.prototype.getCreditCardNumber=function(){return this[c('CreditCardFormParam').CARD_NUMBER];};k.prototype.setCreditCardNumber=function(l){l=l.replace(/ /g,'');this.setCardProviderProps(this[c('CreditCardFormParam').CARD_TYPE],l);l=l.substr(l.length-4);this[c('CreditCardFormParam').CARD_NUMBER]=l;};k.prototype.setCardProviderProps=function(l,m){var n=this.$P2PCreditCard1(l,m);if(j[n]){this.setImage(j[n].image);this.setImageLarge(j[n].imageLarge);this.setName(j[n].name);}};k.prototype.getExp=function(){return this[c('CreditCardFormParam').CARD_EXPIRATION];};k.prototype.getExpFormatted=function(){var l=this[c('CreditCardFormParam').CARD_EXPIRATION];return l?l[c('CreditCardFormParam').MONTH]+'/'+l[c('CreditCardFormParam').YEAR]:'';};k.prototype.getExpFormattedShort=function(){var l=this[c('CreditCardFormParam').CARD_EXPIRATION],m='';if(l&&l[c('CreditCardFormParam').MONTH]&&l[c('CreditCardFormParam').YEAR]){m=l[c('CreditCardFormParam').MONTH]+'/';if(l[c('CreditCardFormParam').YEAR].length===4){m+=l[c('CreditCardFormParam').YEAR].substr(2);}else m+=l[c('CreditCardFormParam').YEAR];}return m;};k.prototype.setExp=function(l){if(!l)return;var m=void 0,n=void 0,o={};o[c('CreditCardFormParam').MONTH]=l[c('CreditCardFormParam').MONTH];o[c('CreditCardFormParam').YEAR]=l[c('CreditCardFormParam').YEAR];if(o[c('CreditCardFormParam').MONTH]&&o[c('CreditCardFormParam').MONTH].length===1)o[c('CreditCardFormParam').MONTH]='0'+o[c('CreditCardFormParam').MONTH];if(o[c('CreditCardFormParam').YEAR]&&o[c('CreditCardFormParam').YEAR].length===2){m=new Date().getFullYear()+'';n=m.substr(0,2);o[c('CreditCardFormParam').YEAR]=n+o[c('CreditCardFormParam').YEAR];}this[c('CreditCardFormParam').CARD_EXPIRATION]=o;};k.prototype.getCSC=function(){return this[c('CreditCardFormParam').CSC];};k.prototype.setCSC=function(l){this[c('CreditCardFormParam').CSC]=l;};k.prototype.getZipCode=function(){return this[c('CreditCardFormParam').ZIP];};k.prototype.setZipCode=function(l){this[c('CreditCardFormParam').ZIP]=l;};k.prototype.getSelected=function(){return this.$P2PCreditCard2;};k.prototype.setSelected=function(l){this.$P2PCreditCard2=l;};k.prototype.getCardType=function(){return this[c('CreditCardFormParam').CARD_TYPE];};k.prototype.setCardType=function(l){this[c('CreditCardFormParam').CARD_TYPE]=l;this.setCardProviderProps(l,this[c('CreditCardFormParam').CARD_NUMBER]);};k.prototype.getCredentialId=function(){return this[c('CreditCardFormParam').CREDENTIAL_ID];};k.prototype.setCredentialId=function(l){this[c('CreditCardFormParam').CREDENTIAL_ID]=l;};k.prototype.$P2PCreditCard1=function(l,m){var n='default',o=void 0,p=void 0;if(l){o=Object.keys(c('CreditCardTypeEnum')).filter(function(q){return c('CreditCardTypeEnum')[q]===l;})[0];n=this.$P2PCreditCard3(o);}else if(m){p=c('PaymentMethodUtils').getCardType(m);if(p)n=p.name;}return n;};k.prototype.getImage=function(){return this.$P2PCreditCard4||j.unknown.image;};k.prototype.setImage=function(l){this.$P2PCreditCard4=l;};k.prototype.getImageLarge=function(){return this.$P2PCreditCard5||j.unknown.imageLarge;};k.prototype.setImageLarge=function(l){this.$P2PCreditCard5=l;};k.prototype.getName=function(){return this.$P2PCreditCard6||j.unknown.name;};k.prototype.setName=function(l){this.$P2PCreditCard6=l;};k.prototype.getIsPreset=function(){return this.$P2PCreditCard7;};k.prototype.setIsPreset=function(l){this.$P2PCreditCard7=l||false;};k.prototype.$P2PCreditCard3=function(l){switch(l){case 'VISA':l='visa';break;case 'AMERICANEXPRESS':l='amex';break;case 'MASTERCARD':l='mc';break;case 'DISCOVER':l='disc';break;case 'JCB':l='jcb';break;default:l='unknown';break;}return l;};k.prototype.getCreditCardNumberFormatted=function(){return '*'+this[c('CreditCardFormParam').CARD_NUMBER];};k.prototype.getDetailsFormatted=function(){return (this.getName()+' '+this.getCreditCardNumberFormatted());};k.prototype.getCreditCardNumberMask=function(){return '**** **** **** '+this[c('CreditCardFormParam').CARD_NUMBER];};k.prototype.getMaxCSCLength=function(){var l=this.$P2PCreditCard1(this[c('CreditCardFormParam').CARD_TYPE],this[c('CreditCardFormParam').CARD_NUMBER]);return l==='amex'?4:3;};k.prototype.getIsVerified=function(){return this.$P2PCreditCard8||false;};k.prototype.setIsVerified=function(l){this.$P2PCreditCard8=l;};k.prototype.getIsMobileVerified=function(){return this.$P2PCreditCard9||false;};k.prototype.setIsMobileVerified=function(l){this.$P2PCreditCard9=l;};k.prototype.getIsPersonalTransferEligible=function(){return !!this.$P2PCreditCard10;};k.prototype.setIsPersonalTransferEligible=function(l){this.$P2PCreditCard10=l;};k.prototype.getCategory=function(){return this.$P2PCreditCard11;};k.prototype.setCategory=function(l){this.$P2PCreditCard11=l;};k.prototype.getCategoryName=function(){switch(this.$P2PCreditCard11){case c('P2PPaymentMethodCategory').DEBIT_CARD:return h._("Debit");case c('P2PPaymentMethodCategory').CREDIT_CARD:return h._("Credit");case c('P2PPaymentMethodCategory').PREPAID_CARD:return h._("Prepaid");default:return null;}};k.prototype.isExpired=function(){var l=this.getExp();if(!l)return false;var m=l.month,n=l.year,o=new Date(),p=o.getFullYear()+'',q=o.getMonth()+1+'';q=q.length===1?'0'+q:q;return n<p||p===n&&m<q;};f.exports=k;},null);
__d('P2PTransferStore',['Arbiter','P2PActionConstants','ChannelConstants','CurrentUser','CreditCardFormParam','EventEmitter','ImmutableObject','P2PActions','P2PAPI','P2PChannelType','P2PCreditCard','P2PDispatcher','P2PGKValues','P2PNUXRendererUtils','P2PTransferParam','P2PTransferStatus','Set','MercuryThreadInformer'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('MercuryThreadInformer').get(),k=false,l=void 0,m=[],n=void 0,o={},p=false,q=false,r=new (c('Set'))(),s=false;function t(w,x){if(x)o[x]=new (c('ImmutableObject'))(w);}function u(w,x){if(x)o[x]={error:w};}h=babelHelpers.inherits(v,c('EventEmitter'));i=h&&h.prototype;function v(){i.constructor.call(this);c('Arbiter').subscribe(c('ChannelConstants').getArbiterType(c('P2PChannelType').TRANSFER_STATUS_CHANGED),this.handleChannelTransferStatusChanged.bind(this));j.subscribe('messages-received',this.handleMessageReceived.bind(this));c('P2PDispatcher').register(this.onEventDispatched.bind(this));}v.prototype.onEventDispatched=function(w){var x=w.data,y=w.type;switch(y){case c('P2PActionConstants').TRANSFERS_UPDATED:this.handleTransfersUpdated(x);this.emit('change');break;case c('P2PActionConstants').TRANSFERS_UPDATED_ERROR:this.handleTransfersUpdatedError(x);this.emit('change');break;case c('P2PActionConstants').NUX_TRANSFERS_UPDATED:this.handleNUXTransfersUpdated(x);this.emit('change');break;case c('P2PActionConstants').TRANSFER_ADDED:this.handleTransferAdded(x);this.emit('change');break;case c('P2PActionConstants').TRANSFER_UPDATED:this.handleTransferUpdated(x);this.emit('change');break;case c('P2PActionConstants').TRANSFER_ACCEPTED:this.handleTransferAccepted();this.emit('change');break;case c('P2PActionConstants').TRANSFER_DECLINED:this.handleTransferDeclined(x);this.emit('change');break;case c('P2PActionConstants').EXTENSIVE_TRANSFER_DETAILS_UPDATED:this.handleTransferWithExtensiveDetails(x);this.emit('change');break;}};v.prototype.getAsyncRequestState=function(){return o;};v.prototype.handleTransfersUpdated=function(w){n=null;p=true;var x=[],y=w.map(function(aa){var ba={},ca=this.getTransferByID(aa[c('P2PTransferParam').TRANSFER_ID]),da={};if(aa.creditCard){ba[c('CreditCardFormParam').CREDENTIAL_ID]=aa.creditCard[c('CreditCardFormParam').CREDENTIAL_ID];ba[c('CreditCardFormParam').CARD_NUMBER]=aa.creditCard[c('CreditCardFormParam').CARD_NUMBER];ba[c('CreditCardFormParam').CARD_TYPE]=aa.creditCard[c('CreditCardFormParam').CARD_TYPE];aa.creditCard=new (c('P2PCreditCard'))(ba);}if(ca)for(var ea in ca)da[ea]=aa[ea]!==null?aa[ea]:ca[ea];x.push(aa[c('P2PTransferParam').TRANSFER_ID]);return new (c('ImmutableObject'))(aa,da);}.bind(this)),z=m.filter(function(aa){return x.indexOf(aa[c('P2PTransferParam').TRANSFER_ID])===-1;});m=y.concat(z);m=m.sort(function(aa,ba){return ba.creationTime-aa.creationTime;});};v.prototype.handleTransfersUpdatedError=function(w){n=w.error;u(w.requestID,w.error);};v.prototype.handleNUXTransfersUpdated=function(w){if(!p)this.handleTransfersUpdated(w);};v.prototype.handleTransferAdded=function(w){var x=null;t(w,w.requestID);if(w&&w.sender&&w.sender.id===c('CurrentUser').getID())s=true;x=m.filter(function(y){return (y[c('P2PTransferParam').TRANSFER_ID]===w[c('P2PTransferParam').TRANSFER_ID]);})[0];if(x)return;m.push(new (c('ImmutableObject'))(w));m=m.sort(function(y,z){return z.creationTime-y.creationTime;});};v.prototype.handleTransferAddedError=function(w){u(w.requestID,w.errors);};v.prototype.handleChannelTransferStatusChanged=function(w,x){x=x.obj;c('P2PActions').transferUpdated(x);};v.prototype.handleMessageReceived=function(w,x){for(var y in x)if(x.hasOwnProperty(y)){var z=x[y];for(var aa=0;aa<z.length;aa++)if(z[aa].attachments&&z[aa].attachments.length){var ba=c('P2PNUXRendererUtils').getTransferFromMessage(z[aa]);if(ba){if(!this.hasReceived()&&ba.receiver.id===c('CurrentUser').getID())c('P2PAPI').getBannerStates();c('P2PActions').transferAdded(ba);return;}}}};v.prototype.handleTransferUpdated=function(w){for(var x=0,y=m.length;x<y;x++)if(m[x][c('P2PTransferParam').TRANSFER_ID]===w[c('P2PTransferParam').TRANSFER_ID])m[x]=c('ImmutableObject').set(m[x],w);};v.prototype.handleTransferAccepted=function(){var w=void 0;for(var x=0,y=m.length;x<y;x++)if(m[x][c('P2PTransferParam').STATUS]===c('P2PTransferStatus').PENDING_RECIPIENT_NUX){w={};w[c('P2PTransferParam').STATUS]=c('P2PTransferStatus').COMPLETED;m[x]=c('ImmutableObject').set(m[x],w);}q=true;};v.prototype.handleTransferDeclined=function(w){var x=void 0;for(var y=0,z=m.length;y<z;y++)if(m[y][c('P2PTransferParam').TRANSFER_ID]===w[c('P2PTransferParam').TRANSFER_ID]&&m[y][c('P2PTransferParam').STATUS]===c('P2PTransferStatus').PENDING_RECIPIENT_NUX){x={};x[c('P2PTransferParam').STATUS]=c('P2PTransferStatus').CANCELED_DECLINED;m[y]=c('ImmutableObject').set(m[y],x);break;}};v.prototype.handleTransferUpdatedError=function(w){u(w.requestID,w.errors);};v.prototype.getTransferByID=function(w){return m.filter(function(x){return w===x[c('P2PTransferParam').TRANSFER_ID];})[0];};v.prototype.getAll=function(w){if(!k){k=true;c('P2PAPI').getTransactions(w);}return m;};v.prototype.getNUXTransfer=function(){var w=m.filter(function(x){return c('P2PNUXRendererUtils').isRecipientActionableStatus(x);})[0];if(!w&&!l&&!k){l=true;c('P2PAPI').getNUXTransactions();}return w;};v.prototype.hasTransfers=function(){return m.length>0;};v.prototype.hasAccepted=function(){return q;};v.prototype.hasReceivedFromSender=function(w){for(var x=0,y=m.length;x<y;x++)if(m[x].sender.id===w)return true;return false;};v.prototype.hasReceived=function(){for(var w=0,x=m.length;w<x;w++)if(m[w].receiver.id===c('CurrentUser').getID())return true;return false;};v.prototype.getTransferFetchError=function(){return n;};v.prototype.getTransferWithExtensiveDetailsByID=function(w){if(!r.has(w)){r.add(w);c('P2PAPI').getExtensiveTransferDetailsByID(w);}};v.prototype.handleTransferWithExtensiveDetails=function(w){if(this.getTransferByID(w.transfer_id)){this.handleTransferUpdated(w);}else this.handleTransferAdded(w);};v.prototype.getAllLocal=function(){return m;};v.prototype.hasSentDuringSession=function(){return s;};v.prototype.shouldShowSenderNUX=function(){return (!c('P2PGKValues').P2PUserAddedCredentialBefore&&!this.hasSentDuringSession());};f.exports=new v();},null);
__d('P2PFriendPickerDialog.react',['cx','fbt','P2PActions','P2PDialog.react','P2PDialogBody.react','P2PDialogTitle.react','P2PFriendPicker.react','P2PSendMoneyNUXDialog.react','P2PTransferStore','React'],function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return n=(o=k.constructor).call.apply(o,[this].concat(q)),this.state={sendMoneyNUXDismissed:false},this.handleToggle=function(s){if(!s)this.props.onClose();}.bind(this),this.handleNUXNextClick=function(){this.setState({sendMoneyNUXDismissed:true});}.bind(this),n;}m.prototype.render=function(){var n=445;if(!this.state.sendMoneyNUXDismissed&&c('P2PTransferStore').shouldShowSenderNUX())return (c('React').createElement(c('P2PSendMoneyNUXDialog.react'),{eventFlow:this.props.eventFlow,onToggle:this.handleToggle,onNextClick:this.handleNUXNextClick,width:n}));return (c('React').createElement(c('P2PDialog.react'),{onToggle:this.handleToggle,width:n},c('React').createElement(c('P2PDialogTitle.react'),null,c('React').createElement('div',{className:"_4ia-"},this.props.title)),c('React').createElement(c('P2PDialogBody.react'),{className:"_4ib0"},c('React').createElement(c('P2PFriendPicker.react'),{amount:this.props.amount,buttonLabel:this.props.buttonLabel,eventFlow:this.props.eventFlow,onFriendSelected:this.props.onClose,referrer:this.props.referrer,sendMoneyNUXDismissed:this.state.sendMoneyNUXDismissed,subTitle:this.props.subTitle}))));};m.propTypes={amount:l.string,buttonLabel:l.node,eventFlow:l.string.isRequired,onClose:l.func.isRequired,referrer:l.string,subTitle:l.node,title:l.node};m.defaultProps={amount:'',title:i._("Select Friend"),subTitle:i._("These are your friends who are able to receive money.")};f.exports={module:m,render:function(n){c('P2PActions').showDialog(m,babelHelpers['extends']({title:i._("Send Money to Friends")},n,{onClose:c('P2PActions').hideDialog}));}};},null);
__d('P2PSendMoneyHelper',['fbt','MercuryIDs','P2PActions','P2PLogger','P2PFriendPickerDialog.react','P2PPaymentLoggerEvent','P2PPaymentLoggerEventFlow'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('P2PFriendPickerDialog.react').module,j={bindProfileSendMoneyAction:function(k,l){k.subscribe('itemclick',function(m,n){if(n.item.getValue()==='send_money')c('P2PActions').chatSendViewOpened({referrer:'profile_action',threadID:c('MercuryIDs').getThreadIDFromUserID(l)});});},initPaymentsBluebarMenuItems:function(k){k.subscribe('itemclick',function(l,m){var n=m.item.getValue();if(n==='send_money'){c('P2PActions').showDialog(i,{eventFlow:c('P2PPaymentLoggerEventFlow').UI_FLOW_SEND_MONEY_BLUEBAR,onClose:c('P2PActions').hideDialog,referrer:'bluebar',title:h._("Send Money to Friends")});}else if(n==='payments_history')c('P2PLogger').log(c('P2PPaymentLoggerEvent').UI_ACTN_PAYMENTS_HISTORY_BLUEBAR_CLICK,{www_event_flow:c('P2PPaymentLoggerEventFlow').UI_FLOW_PAYMENTS_MENU_BLUEBAR});});}};f.exports=j;},null);